import{e as We}from"../chunks/index.DooCW40w.js";import{C as Ce,v as Ye}from"../chunks/scope.BwwVius0.js";import{b as Me}from"../chunks/paths.DMAjVMJm.js";import{a as m,n as De,b as Pe,e as ne,t as A,f as Re}from"../chunks/disclose-version.CbRZWNNR.js";import{i as ge}from"../chunks/legacy.DuhdKsqS.js";import{F as _e,a1 as N,a2 as we,t as y,J as be,c as _,r as g,n as Ae,a3 as E,a4 as V,g as t,a5 as H,ab as Je,s as w,f as oe,ac as qe,d as ve}from"../chunks/utils.BGEfMgWN.js";import{s as C}from"../chunks/render.Bm5GLoy2.js";import{e as je,i as Xe}from"../chunks/each.o9GMMbDi.js";import{s as Le,t as u,c as Ie,b as G,d as M,e as Ge,L as He}from"../chunks/Link.DU1qeq-y.js";import{l as le,p as a,i as q,a as Ke,b as Ve,d as ze,u as Be,s as Qe}from"../chunks/props.CY9nX4Zt.js";import{c as Fe,a as $e,o as Ze}from"../chunks/index-client.C6NDvFqa.js";import{W as Ee,a as et,B as Oe}from"../chunks/WarningAltFilled.BCqMdxEm.js";import{w as ke}from"../chunks/entry.D9oPNKgR.js";var tt=De("<title> </title>"),at=De('<svg><!><path d="M12 8L22 16 12 24z"></path></svg>');function it(O,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),k=le(o,["size","title"]);_e(e,!1);const l=H(),T=H();let D=a(e,"size",8,16),h=a(e,"title",8,void 0);N(()=>(V(o),V(h())),()=>{E(l,o["aria-label"]||o["aria-labelledby"]||h())}),N(()=>(t(l),V(o)),()=>{E(T,{"aria-hidden":t(l)?void 0:!0,role:t(l)?"img":void 0,focusable:Number(o.tabindex)===0?!0:void 0})}),we(),ge();var i=at();let n;var P=_(i);q(P,h,R=>{var b=tt(),Y=_(b,!0);g(b),y(()=>C(Y,h())),m(R,b)}),Ae(),g(i),y(()=>n=Le(i,n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:D(),height:D(),...t(T),...k},void 0,!0)),m(O,i),be()}var nt=De("<title> </title>"),lt=De('<svg><!><path d="M20 24L10 16 20 8z"></path></svg>');function st(O,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),k=le(o,["size","title"]);_e(e,!1);const l=H(),T=H();let D=a(e,"size",8,16),h=a(e,"title",8,void 0);N(()=>(V(o),V(h())),()=>{E(l,o["aria-label"]||o["aria-labelledby"]||h())}),N(()=>(t(l),V(o)),()=>{E(T,{"aria-hidden":t(l)?void 0:!0,role:t(l)?"img":void 0,focusable:Number(o.tabindex)===0?!0:void 0})}),we(),ge();var i=lt();let n;var P=_(i);q(P,h,R=>{var b=nt(),Y=_(b,!0);g(b),y(()=>C(Y,h())),m(R,b)}),Ae(),g(i),y(()=>n=Le(i,n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:D(),height:D(),...t(T),...k},void 0,!0)),m(O,i),be()}var rt=A("<label><!></label>"),dt=A("<div> </div>"),ot=A("<div> </div>"),ct=A("<div><div><select><!></select> <!> <!></div> <!></div> <!>",1),ut=A("<div> </div>"),vt=A("<div> </div>"),gt=A("<div> </div>"),_t=A("<div><select><!></select> <!> <!> <!></div> <!> <!> <!>",1),bt=A("<div><div><!> <!> <!></div></div>");function Ue(O,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),k=le(o,["selected","size","inline","light","disabled","id","name","invalid","invalidText","warn","warnText","helperText","noLabel","labelText","hideLabel","ref","required"]);_e(e,!1);const l=Ke(),T=()=>ze(xe,"$defaultValue",l),D=()=>ze(se,"$defaultSelectId",l),h=()=>ze(me,"$itemTypesByValue",l),i=()=>ze(te,"$selectedValue",l),n=H();let P=a(e,"selected",12,void 0),R=a(e,"size",8,void 0),b=a(e,"inline",8,!1),Y=a(e,"light",8,!1),J=a(e,"disabled",8,!1),U=a(e,"id",24,()=>"ccs-"+Math.random().toString(36)),s=a(e,"name",8,void 0),r=a(e,"invalid",8,!1),x=a(e,"invalidText",8,""),S=a(e,"warn",8,!1),F=a(e,"warnText",8,""),B=a(e,"helperText",8,""),fe=a(e,"noLabel",8,!1),K=a(e,"labelText",8,""),Q=a(e,"hideLabel",8,!1),$=a(e,"ref",12,null),ce=a(e,"required",8,!1);const ee=Fe(),te=ke(P()),se=ke(null),xe=ke(null),me=ke({});Je("Select",{selectedValue:te,setDefaultValue:(W,f)=>{T()===null?(se.set(W),xe.set(f)):D()===W&&te.set(f),me.update(I=>({...I,[f]:typeof f}))}});const Te=({target:W})=>{let f=W.value;h()[f]==="number"&&(f=Number(f)),te.set(f)};let he;$e(()=>{P(i()),he!==void 0&&P()!==he&&ee("update",i()),he=P()}),N(()=>V(U()),()=>{E(n,`error-${U()}`)}),N(()=>(V(P()),T()),()=>{te.set(P()??T())}),we(),ge();var ue=bt();let Se;var ae=_(ue);u(ae,"bx--select",!0);var j=_(ae);q(j,()=>!fe(),W=>{var f=rt(),I=_(f);Ie(I,e,"labelText",{},d=>{var c=Pe();y(()=>C(c,K())),m(d,c)}),g(f),y(()=>{M(f,"for",U()),u(f,"bx--label",!0),u(f,"bx--visually-hidden",Q()),u(f,"bx--label--disabled",J())}),m(W,f)});var p=w(j,2);q(p,b,W=>{var f=ct(),I=oe(f);u(I,"bx--select-input--inline__wrapper",!0);var d=_(I),c=_(d),re=_(c);Ie(re,e,"default",{},null),g(c),Ve(c,L=>$(L),()=>$());var Z=w(c,2);Ce(Z,{class:"bx--select__arrow"});var ie=w(Z,2);q(ie,r,L=>{Ee(L,{class:"bx--select__invalid-icon"})}),g(d);var de=w(d,2);q(de,r,L=>{var v=dt(),z=_(v,!0);g(v),y(()=>{M(v,"id",t(n)),u(v,"bx--form-requirement",!0),C(z,x())}),m(L,v)}),g(I);var pe=w(I,2);q(pe,()=>!r()&&!S()&&B(),L=>{var v=ot();u(v,"bx--form__helper-text",!0);var z=_(v,!0);g(v),y(()=>{u(v,"bx--form__helper-text--disabled",J()),C(z,B())}),m(L,v)}),y(()=>{M(d,"data-invalid",r()||void 0),u(d,"bx--select-input__wrapper",!0),M(c,"aria-describedby",r()?t(n):void 0),M(c,"aria-invalid",r()||void 0),c.disabled=J()||void 0,c.required=ce()||void 0,M(c,"id",U()),M(c,"name",s()),u(c,"bx--select-input",!0),u(c,"bx--select-input--sm",R()==="sm"),u(c,"bx--select-input--xl",R()==="xl")}),ne("change",c,Te),ne("change",c,function(L){G.call(this,e,L)}),ne("input",c,function(L){G.call(this,e,L)}),ne("focus",c,function(L){G.call(this,e,L)}),ne("blur",c,function(L){G.call(this,e,L)}),m(W,f)});var X=w(p,2);q(X,()=>!b(),W=>{var f=_t(),I=oe(f),d=_(I),c=_(d);Ie(c,e,"default",{},null),g(d),Ve(d,v=>$(v),()=>$());var re=w(d,2);Ce(re,{class:"bx--select__arrow"});var Z=w(re,2);q(Z,r,v=>{Ee(v,{class:"bx--select__invalid-icon"})});var ie=w(Z,2);q(ie,()=>!r()&&S(),v=>{et(v,{class:"bx--select__invalid-icon bx--select__invalid-icon--warning"})}),g(I);var de=w(I,2);q(de,()=>!r()&&B(),v=>{var z=ut();u(z,"bx--form__helper-text",!0);var ye=_(z,!0);g(z),y(()=>{u(z,"bx--form__helper-text--disabled",J()),C(ye,B())}),m(v,z)});var pe=w(de,2);q(pe,r,v=>{var z=vt(),ye=_(z,!0);g(z),y(()=>{M(z,"id",t(n)),u(z,"bx--form-requirement",!0),C(ye,x())}),m(v,z)});var L=w(pe,2);q(L,()=>!r()&&S(),v=>{var z=gt(),ye=_(z,!0);g(z),y(()=>{M(z,"id",t(n)),u(z,"bx--form-requirement",!0),C(ye,F())}),m(v,z)}),y(()=>{M(I,"data-invalid",r()||void 0),u(I,"bx--select-input__wrapper",!0),M(d,"id",U()),M(d,"name",s()),M(d,"aria-describedby",r()?t(n):void 0),d.disabled=J()||void 0,d.required=ce()||void 0,M(d,"aria-invalid",r()||void 0),u(d,"bx--select-input",!0),u(d,"bx--select-input--sm",R()==="sm"),u(d,"bx--select-input--xl",R()==="xl")}),ne("change",d,Te),ne("change",d,function(v){G.call(this,e,v)}),ne("input",d,function(v){G.call(this,e,v)}),ne("focus",d,function(v){G.call(this,e,v)}),ne("blur",d,function(v){G.call(this,e,v)}),m(W,f)}),g(ae),g(ue),y(()=>{Se=Le(ue,Se,{...k}),u(ue,"bx--form-item",!0),u(ae,"bx--select--inline",b()),u(ae,"bx--select--light",Y()),u(ae,"bx--select--invalid",r()),u(ae,"bx--select--disabled",J()),u(ae,"bx--select--warning",S())}),m(O,ue),be()}var ft=A("<option> </option>");function Ne(O,e){_e(e,!1);let o=a(e,"value",8,""),k=a(e,"text",8,""),l=a(e,"hidden",8,!1),T=a(e,"disabled",8,!1),D=a(e,"class",8,void 0),h=a(e,"style",8,void 0);const i="ccs-"+Math.random().toString(36),n=qe("Select")||qe("TimePickerSelect");let P=H(!1);const R=n.selectedValue.subscribe(U=>{E(P,U===o())});Ze(()=>()=>R()),N(()=>V(o()),()=>{var U;(U=n==null?void 0:n.setDefaultValue)==null||U.call(n,i,o())}),we(),ge();var b=ft(),Y={},J=_(b,!0);g(b),y(()=>{Y!==(Y=o())&&(b.value=(b.__value=o())==null?"":o()),b.disabled=T(),b.hidden=l(),b.selected=t(P),Ge(b,D()),M(b,"style",h()),u(b,"bx--select-option",!0),C(J,k()||o())}),m(O,b),be()}var xt=A("<label> </label> <!>",1),mt=A("<!> <span><!></span>",1),ht=A("<div><div><!> <span><!></span></div> <div><!> <!> <!></div></div>");function pt(O,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),k=le(o,["page","totalItems","disabled","forwardText","backwardText","itemsPerPageText","itemText","itemRangeText","pageInputDisabled","pageSizeInputDisabled","pageSize","pageSizes","pagesUnknown","pageText","pageRangeText","id"]);_e(e,!1);const l=H(),T=H(),D=H(),h=H();let i=a(e,"page",12,1),n=a(e,"totalItems",8,0),P=a(e,"disabled",8,!1),R=a(e,"forwardText",8,"Next page"),b=a(e,"backwardText",8,"Previous page"),Y=a(e,"itemsPerPageText",8,"Items per page:"),J=a(e,"itemText",8,(j,p)=>`${j}–${p} item${p===1?"":"s"}`),U=a(e,"itemRangeText",8,(j,p,X)=>`${j}–${p} of ${X} item${p===1?"":"s"}`),s=a(e,"pageInputDisabled",8,!1),r=a(e,"pageSizeInputDisabled",8,!1),x=a(e,"pageSize",12,10),S=a(e,"pageSizes",24,()=>[10]),F=a(e,"pagesUnknown",8,!1),B=a(e,"pageText",8,j=>`page ${j}`),fe=a(e,"pageRangeText",8,(j,p)=>`of ${p} page${p===1?"":"s"}`),K=a(e,"id",24,()=>"ccs-"+Math.random().toString(36));const Q=Fe();$e(()=>{i()>t(l)&&i(t(l))}),N(()=>(V(x()),V(i())),()=>{Q("update",{pageSize:x(),page:i()})}),N(()=>(V(n()),V(x())),()=>{E(l,Math.max(Math.ceil(n()/x()),1))}),N(()=>t(l),()=>{E(T,Array.from({length:t(l)},(j,p)=>p))}),N(()=>(V(P()),V(i())),()=>{E(D,P()||i()===1)}),N(()=>(V(P()),V(i()),t(l)),()=>{E(h,P()||i()===t(l))}),we(),ge();var $=ht();let ce;var ee=_($);u(ee,"bx--pagination__left",!0);var te=_(ee);q(te,()=>!r(),j=>{var p=xt(),X=oe(p),W=_(X,!0);g(X);var f=w(X,2);Ue(f,{get id(){return`bx--pagination-select-${K()??""}`},class:"bx--select__item-count",hideLabel:!0,noLabel:!0,inline:!0,get selected(){return x()},set selected(I){x(I)},$$events:{change:()=>{Q("change",{pageSize:x()})}},children:(I,d)=>{var c=Re(),re=oe(c);je(re,3,S,Z=>Z,(Z,ie)=>{var de=ve(()=>t(ie).toString());Ne(Z,{get value(){return t(ie)},get text(){return t(de)}})}),m(I,c)},$$slots:{default:!0},$$legacy:!0}),y(()=>{M(X,"id",`bx--pagination-select-${K()??""}-count-label`),M(X,"for",`bx--pagination-select-${K()??""}`),u(X,"bx--pagination__text",!0),C(W,Y())}),m(j,p)});var se=w(te,2),xe=_(se);q(xe,F,j=>{var p=Pe();y(()=>C(p,J()(x()*(i()-1)+1,i()*x()))),m(j,p)},j=>{var p=Pe();y(()=>C(p,U()(Math.min(x()*(i()-1)+1,n()),Math.min(i()*x(),n()),n()))),m(j,p)}),g(se),g(ee);var me=w(ee,2);u(me,"bx--pagination__right",!0);var Te=_(me);q(Te,()=>!s(),j=>{var p=mt(),X=oe(p),W=ve(()=>`bx--pagination-select-${K()+2}`);Ue(X,{get id(){return t(W)},class:"bx--select__page-number",get labelText(){return`Page number, of ${t(l)??""} pages`},inline:!0,hideLabel:!0,get selected(){return i()},set selected(d){i(d)},$$events:{change:()=>{Q("change",{page:i()})}},children:(d,c)=>{var re=Re(),Z=oe(re);je(Z,3,()=>t(T),ie=>ie,(ie,de)=>{var pe=ve(()=>t(de)+1),L=ve(()=>(t(de)+1).toString());Ne(ie,{get value(){return t(pe)},get text(){return t(L)}})}),m(d,re)},$$slots:{default:!0},$$legacy:!0});var f=w(X,2);u(f,"bx--pagination__text",!0);var I=_(f);q(I,F,d=>{var c=Pe();y(()=>C(c,B()(i()))),m(d,c)},d=>{var c=Pe();y(()=>C(c,fe()(i(),t(l)))),m(d,c)}),g(f),m(j,p)});var he=w(Te,2),ue=ve(()=>`bx--pagination__button bx--pagination__button--backward ${(t(D)?"bx--pagination__button--no-index":"")??""}`);Oe(he,{kind:"ghost",tooltipAlignment:"center",tooltipPosition:"top",icon:st,get iconDescription(){return b()},get disabled(){return t(D)},get class(){return t(ue)},$$events:{click:()=>{Be(i,-1),Q("click:button--previous",{page:i()}),Q("change",{page:i()})}}});var Se=w(he,2),ae=ve(()=>`bx--pagination__button bx--pagination__button--forward ${(t(h)?"bx--pagination__button--no-index":"")??""}`);Oe(Se,{kind:"ghost",tooltipAlignment:"end",tooltipPosition:"top",icon:it,get iconDescription(){return R()},get disabled(){return t(h)},get class(){return t(ae)},$$events:{click:()=>{Be(i),Q("click:button--next",{page:i()}),Q("change",{page:i()})}}}),g(me),g($),y(()=>{ce=Le($,ce,{id:K(),...k}),u($,"bx--pagination",!0),u(se,"bx--pagination__text",!r())}),m(O,$),be()}function wt(O,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),k=le(o,["clicked","light","disabled","href"]);_e(e,!1);let l=a(e,"clicked",12,!1),T=a(e,"light",8,!1),D=a(e,"disabled",8,!1),h=a(e,"href",8,void 0);ge();var i=ve(()=>`bx--tile bx--tile--clickable ${(l()&&"bx--tile--is-clicked")??""} ${(T()&&"bx--tile--light")??""} ${k.class??""}`);He(O,Qe(()=>k,{get disabled(){return D()},get class(){return t(i)},get href(){return h()},$$events:{click:[function(n){G.call(this,e,n)},()=>{l(!l())}],keydown:[function(n){G.call(this,e,n)},({key:n})=>{(n===" "||n==="Enter")&&l(!l())}],mouseover(n){G.call(this,e,n)},mouseenter(n){G.call(this,e,n)},mouseleave(n){G.call(this,e,n)}},children:(n,P)=>{var R=Re(),b=oe(R);Ie(b,e,"default",{},null),m(n,R)},$$slots:{default:!0}})),be()}async function Tt({url:O,params:e}){const o=new URL(O.href),k=new URLSearchParams(o.search),l=e.scope;if(Ye.includes(l)){const T=`${Me}/api/index/${l}.json`,h=await(await fetch(T)).json()||[];return{scope:l,results:h,searchParams:k}}else We(404,"Not Found")}const Et=Object.freeze(Object.defineProperty({__proto__:null,load:Tt},Symbol.toStringTag,{value:"Module"}));var yt=A('<div class="flex items-center"><img class="mr-4 h-40 w-36 rounded object-cover"> <div><div class="text-lg font-semibold"> </div> <div class="text-sm text-gray-500"> </div> <div class="my-2 text-xs text-gray-700"> </div> <div class="my-2 font-mono text-xs text-gray-700"> </div></div></div>'),Pt=A('<h2 class="mb-6">Search Results</h2> <!> <div class="space-y-4"></div>',1);function Ot(O,e){_e(e,!1);const o=H(),k=H(),l=H();let T=a(e,"data",8);console.log(T().searchParams),console.log(T().results);const D=T().results,h=(s,r,x,S)=>{var F,B;return(B=(F=s==null?void 0:s.fields)==null?void 0:F[x])!=null&&B[S]?`${r}: ${s.fields[x][S]}; `:""},i=D.length,n=s=>{const r=((s==null?void 0:s.full_text)??"").substring(0,266),x=(s.page_index||0)+1;let S="";return S+=h(s,"FORM TITLE","form_title","ms_form_title_llm_v1"),S+=h(s,"DOCUMENT TYPE","doctype","ms_doctype_v1"),S+=h(s,"COUNTRIES","countries","ms_countries_nlp_v1"),{id:s.id,label:`${s.anumber} Page ${x}`,thumbnail:`https://dctn4zjpwgdwdiiy5odjv7o2se0bqgjb.lambda-url.us-east-1.on.aws/iiif/3/og-2023-kc-nara_${s.id}/square/300,/0/default.jpg`,details:S,full_text:r,url:`${Me}/view/afile/${s.id.replace("_","/")}?tab=page`,pageInfo:""}},P=s=>{var r,x,S,F,B;return{id:s.id,label:`${s.fields.last_name.nara}, ${s.fields.first_name.nara} | ${s.id}`,thumbnail:`https://dctn4zjpwgdwdiiy5odjv7o2se0bqgjb.lambda-url.us-east-1.on.aws/iiif/3/og-2023-kc-nara_${s.id}_0000/square/250,/0/default.jpg`,details:`DOB: ${(r=s.fields.dob)==null?void 0:r.nara}; SEX: ${(x=s.fields.sex)==null?void 0:x.nara}; DOE: ${(S=s.fields.doe)==null?void 0:S.nara}, COB: ${(F=s.fields.cob)==null?void 0:F.nara}, POE: ${(B=s.fields.poe)==null?void 0:B.nara}`,full_text:"",url:`${Me}/view/afile/${s.id}/0000?tab=afile`,pageInfo:(s.page_count||0)+" pages"}},R=s=>{const r=(s-1)*t(k),x=r+t(k);return D.slice(r,x).map(S=>T().scope==="afile"?P(S):n(S))};function b(s){const{page:r,pageSize:x}=s.detail;E(k,x),E(o,r),console.log("updating!"),E(l,R(r))}N(()=>{},()=>{E(o,1)}),N(()=>{},()=>{E(k,10)}),N(()=>t(o),()=>{E(l,R(t(o)))}),we(),ge();var Y=Pt(),J=w(oe(Y),2);pt(J,{class:"mb-6",totalItems:i,pageSizes:[10,20,50],get pageSize(){return t(k)},$$events:{update:b}});var U=w(J,2);je(U,5,()=>t(l),Xe,(s,r)=>{wt(s,{get href(){return t(r).url},class:"rounded-lg border p-4 shadow transition-shadow duration-200 hover:shadow-lg",children:(x,S)=>{var F=yt(),B=_(F),fe=w(B,2),K=_(fe),Q=_(K,!0);g(K);var $=w(K,2),ce=_($,!0);g($);var ee=w($,2),te=_(ee,!0);g(ee);var se=w(ee,2),xe=_(se,!0);g(se),g(fe),g(F),y(()=>{M(B,"src",t(r).thumbnail),M(B,"alt",t(r).label),C(Q,t(r).label),C(ce,t(r).pageInfo),C(te,t(r).details),C(xe,t(r).full_text)}),m(x,F)},$$slots:{default:!0}})}),g(U),m(O,Y),be()}export{Ot as component,Et as universal};
