import{e as R,a as s,t as _,b as o,s as L}from"../chunks/BAUI98Z9.js";import"../chunks/DSciKktY.js";import{c as l,r as n,t as z,f as oe,s as a,n as i,g as u,ab as be}from"../chunks/CqCuhlBO.js";import{l as ne,p as xe,i as $e}from"../chunks/BfO1ynMt.js";import{e as U,i as Q}from"../chunks/Cmda6lcO.js";import{b as p}from"../chunks/QdG79Z0J.js";import{B as we,a as Ae}from"../chunks/DaRhPiUh.js";import{O as y}from"../chunks/C83gqWlY.js";import{c as Le,b as T,a as ze,t as le,L as d}from"../chunks/mhzEUGEn.js";import{T as de}from"../chunks/I_lEydf8.js";var Ne=_("<div><!></div>");function Me(C,h){const N=ne(h,["children","$$slots","$$events","$$legacy"]),b=ne(N,["light"]);let x=xe(h,"light",8,!1);var c=Ne();let v;var M=l(c);Le(M,h,"default",{},null),n(c),z(()=>{v=ze(c,v,{...b}),le(c,"bx--tile",!0),le(c,"bx--tile--light",x())}),R("click",c,function(f){T.call(this,h,f)}),R("mouseover",c,function(f){T.call(this,h,f)}),R("mouseenter",c,function(f){T.call(this,h,f)}),R("mouseleave",c,function(f){T.call(this,h,f)}),s(C,c)}const Fe=[{id:"dnn",term:"Deep Neural Network (DNN)",description:"Analyzes and extracts important details from an image, such as shapes, colors, and patterns. Based on the analysis, the DNN then predicts how to classify the image.",models:[{name:"DINOv2",link:"https://github.com/facebookresearch/dinov2"}]},{id:"llm",term:"Large Language Model (LLM)",description:"A type of artificial intelligence trained on vast amounts of images and text to understand and generate human-like language while also interpreting visual information.  They can analyze and describe images, answer questions about visual content, and generate text based on both visual and textual inputs. This allows them to perform tasks like image captioning, visual question answering, and multimodal reasoning.",models:[{name:"MiniCPM-V-2_6",link:"https://huggingface.co/openbmb/MiniCPM-V-2_6"},{name:"Qwen2-VL-2B-Instruct",link:"https://huggingface.co/Qwen/Qwen2-VL-2B-Instruct"}]},{id:"ml",term:"Machine Learning (ML)",description:"A type of artificial intelligence where computers learn patterns from data instead of being explicitly programmed."},{id:"ner",term:"Named Entity Recognition (NER)",description:"An NLP technique that identifies different types of entities such as locations, names, dates, and times by analyzing the surrounding context and linguistic patterns rather than relying solely on predefined rules like capitalization or keyword proximity.",models:[{name:"English NER in Flair",link:"https://huggingface.co/flair/ner-english-ontonotes-large"}]},{id:"nlp",term:"Natural Language Processing (NLP)",description:"A set of artificial intelligence techniques that enable computers to identify, understand, interpret, and generate human language."},{id:"ocr",term:"Optical Character Recognition (OCR)",description:"A technology that detects and extracts text from images or scanned documents, converting it into machine-readable text.",models:[{name:"Amazon Textract",link:"https://aws.amazon.com/textract/"}]},{id:"text",term:"Text Model",description:"An artificial intelligence system designed to process, generate, or analyze human language using machine learning techniques. In this case,  a sentence transformer that converts sentences into numerical embeddings, enabling tasks like semantic search, similarity comparison, and clustering.",models:[{name:"all-mpnet-base-v2",link:"https://huggingface.co/sentence-transformers/all-mpnet-base-v2"}]}],ke={ms_sex_llm_v1:"LLM data extracted from individual pages is then aggregated to predicted the sex of the A-File holder",ms_form_titles_llm_v1:"Identified by the LLM, this is a full list of every form number and corresponding title within the entire A-File",ms_countries_nlp_v1:"Collated list of all countries identifed on the page by the NLP model harnessing NER. These lists are also aggregated at the A-File level",ms_ocr_v1:"All key word searchable text extracted from the page through OCR",ms_form_title_llm_v1:"Form numbers and corresponding titles identified by the LLM",ms_years_nlp_v1:"Identified with a BiLSTM, a type of NLP model harnessing NER, this model compiles every year that appears on a page",ms_doctype_v1:"A DNN processes each scanned document and categorizes it into one of four types: Form, Letter, Photograph, or Misc",nationality_llm_v1:"Nationality data of A-File holder, as identified and extracted by the LLM from form G325",reason_llm_v1:"Reason supplied by A-File holder for submitting form G325, as identified and extracted by LLM from form G325",occupation_llm_v1:"Occupation data of A-File holder, as identified and extracted by the LLM from form G325",complexion_llm_v1:"Biometric data required by some Certificates of Naturalization as identified and extracted by LLM",marital_status_llm_v1:"Marital status listed on Certificates of Naturalization, as identified and extracted by LLM",residence_naturlization_llm_v1:"Place of residence for certificate holder at the time of naturalization, as identified and extracted from Certificate of Naturalization by LLM",year_naturalization_llm_v1:"Year of naturalization for certificate holder as listed on Certificates of Naturalization, as identified and extracted by LLM"};var Pe=_("<!>&nbsp;",1),Re=_('<span class="block py-2 font-mono text-xs">M/S models used: <!></span>'),Te=_('<dl class="w-full"><dt class="text-base font-semibold"> </dt> <dd class="py-2 leading-normal"> <!></dd></dl>'),Ce=_('<div class="flex gap-6 py-4"><div class="min-w-56"><!></div> <div><p class="max-w-[85ch] text-sm"> </p></div></div>'),Se=_(`<!> <div class="max-w-[85ch]"><h1 class="mb-8 md:text-5xl">M/S Data Guide</h1> <div class="my-6"><h2 class="mb-2">Contents</h2> <ul class="list-inside list-disc [&amp;_ul]:list-[revert]"><li class="pt-2"><a href="#introduction">Introduction</a> <ul class="list-inside indent-4"><li class="pt-2"><a href="#training-set">Training Set</a></li> <li class="pt-2"><a href="#metadata-sources">Metadata Sources</a></li> <li class="pt-2"><a href="#metadata-note">Metadata on Sex and Complexion</a></li></ul></li> <li class="pt-2"><a href="#methods-glossary">Methods Glossary</a></li> <li class="pt-2"><a href="#tags">Data Provenance Tags</a></li></ul></div> <h2 id="introduction" class="my-4">Introduction</h2> <h3 id="training-set" class="mb-4 mt-6 text-base uppercase tracking-widest md:text-lg">Training Set</h3> <p class="py-2">This M/S Reading Room prototype allows users to search the test set of A-Files using metadata
		derived from two sources: the publicly available U.S. National Archives (NARA) catalog metadata,
		and metadata based on information extracted by our machine learning models.</p> <p class="py-2">Most of the training set is made up of files ordered from the Kansas City regional office of
		NARA, where the vast majority of public domain A-Files are held. While these A-files are in the
		public domain (A-files enter the public domain when the birth year of the file holder is at
		least 100 years in the past), NARA reviews each file for third-party privacy violations and
		redacts information as necessary. NARA levies a processing fee of either $27 or $40 (depending
		on the file holder’s year of birth) for each A-File ordered online. Faced with a catalog of a
		million files and a budget for 550 files, we made selections designed to achieve regional and
		temporal breadth, with additional files for two countries of origin (Mexico and Haiti) to enable
		greater depth of research. The remainder of the training set comes from <!> and a relatively small number of A-Files obtained from USCIS via that agency’s Electronic Reading
		Room and our Freedom of Information Act (FOIA) requests for the A-Files of verifiably deceased individuals.
		The USCIS files are being used for model training purposes only and are not included in this prototype.</p> <h3 id="metadata-sources" class="mb-4 mt-6 text-base uppercase tracking-widest md:text-lg">Metadata Sources</h3> <p class="py-2">The <!> for A-Files varies. Every five years, files that have entered the public domain are transferred
		from the federal agency governing immigration (INS or USCIS) to NARA. At the time of the transfer,
		the agencies determine which metadata fields attached to the files will be transferred, resulting
		in variability in metadata across the entire NARA catalog (approximately 1.6 million A-Files). The
		basic metadata always available from the NARA catalog for each A-File includes date of birth, first
		name, last name, and country of birth. Additional metadata from the NARA catalog can include sex,
		date of entry, port of entry, date file opened, father’s name, mother’s name, date and location of
		naturalization, naturalization certificate number, and class of admission. Reference tables are available
		to identify the agency codes used for <!>, <!>, and <!>.</p> <p class="py-2">The metadata created by the <span class="italic">Migrants and the State</span> project has been
		derived using a variety of machine learning methods deployed on a training set of 751 files
		comprising 37,396 individual pages. The model training involved two main stages: categorizing
		documents and extracting information from them. In general, our approach has prioritized
		training models to address a larger number of data identification tasks rather than attempting
		fewer tasks and refining the models to achieve peak accuracy. We started by developing a model
		(using <!>) to create image embeddings for
		every page in the training set. Members of the team reviewed each page to identify
		machine-generated errors and used that information to improve the model’s performance in
		distinguishing among <!>, <!>, <!>, and other kinds of materials (which we labelled <!>).</p> <p class="py-2">While the model identifying document types relied on the visual information on each A-File page,
		the ability to extract text information required the use of <!> to create a machine-readable text version of the training set. This text allows us to perform general
		text extraction (identifying the presence of text in the body of a document, similar to a keyword
		search) as well as extracting information from a specific location within a document (for example,
		a form title or answer to a question).</p> <p class="py-2">We used existing <!> techniques to
		extract information about the years and country names included in each A-File. For document-specific
		metadata extraction, we chose the G-325 and Certificate of Naturalization forms as our test cases
		for training models (using a Large Language Model approach) that can identify a form type and extract
		specific information from it. The information the models can extract from these forms (employment
		history, residential addresses, and biographical details) is valuable in its own right, but we are
		also attempting to develop a scalable technique that can later be applied to other forms.</p> <h3 id="metadata-note" class="mb-4 mt-6 text-base uppercase tracking-widest md:text-lg">Metadata on Sex and Complexion</h3> <p class="py-2">The NARA catalog metadata, compiled as a limited subset of the metadata created by INS / USCIS,
		often lacks entries corresponding to the field designating biological sex. But information on
		biological sex, along with other biometric data required by government forms, appears frequently
		across documents in A-Files. We used an open-source <!> to extract this data from the individual pages of A-Files, typically from forms where a biological
		sex designation (e.g. Male / Female) is required. The model then aggregates the total number of identifications
		for biological sex and predicts the sex of the A-File holder. The LLM derived metadata is not 100%
		accurate, and the prototype allows you to compare NARA’s metadata for sex with the metadata extracted
		by the M/S trained LLM.</p> <p class="py-2">Extracting metadata to reflect historical government categories and bureaucratic norms around
		biological sex is relatively straightforward, given the binary categories of male and female
		then in use. Extracting metadata about ethno-racial categorization is more complex. This
		information often takes the form of indications of a file holder’s complexion, for which
		migrants and immigration officers used a variety of adjectives, many of them offensive to
		contemporary sensibilities. Currently, our models extract complexion data only from the
		Certificate of Naturalization forms. From the subset of data available in this prototype,
		complexion was recorded directly in these documents as <!>, <!>, or <!>, if at all. Our models attempt to record these terms exactly or add an <!> value if they do not find a complexion value on the page.</p> <p class="py-2">We crucially do not try to infer or profile a value through other cues in the A-File. Our aim is
		to organize the specific terms used by immigration bureaucracies over time as objects of study
		without intervention or curation. Nevertheless, please note that these metadata values, like
		others generated by machine learning in our corpus, are not 100% accurate. Additionally, more
		terms will likely emerge as we incorporate A-Files from broader time periods. For these reasons,
		we plan to solicit and incorporate user feedback to improve how we render this data with care.</p></div> <h2 id="methods-glossary" class="py-4">Methods Glossary</h2> <div class="my-10 grid w-full gap-4 sm:grid-cols-2 md:grid-cols-3"></div> <h2 id="tags" class="py-4">Data Provenance Tags</h2> <div class="w-full"><div class="flex gap-6 py-4"><div class="min-w-56"><!></div> <div><p class="max-w-[85ch] text-sm">Fields with this tag come directly from the U.S. National Archives catalog.</p></div></div> <!></div>`,1);function He(C){var h=Se(),N=oe(h);we(N,{class:"mb-8",children:(t,r)=>{Ae(t,{href:p,children:(e,F)=>{i();var m=o("Home");s(e,m)},$$slots:{default:!0}})},$$slots:{default:!0}});var b=a(N,2),x=a(l(b),10),c=a(l(x));y(c,{size:"lg",href:"https://catalog.archives.gov/search?typeOfMaterials=Textual%20Records&availableOnline=true&recordGroupNumber=566",children:(t,r)=>{i();var e=o("A-Files made public by NARA’s San Francisco regional office");s(t,e)},$$slots:{default:!0}}),i(),n(x);var v=a(x,4),M=a(l(v));y(M,{size:"lg",href:"https://docs.google.com/document/u/0/d/1lnvN77_CaBnOzg9HBF-jtWTwJlisgKoD3E1RKHwQByQ/",children:(t,r)=>{i();var e=o("metadata available in the NARA catalog");s(t,e)},$$slots:{default:!0}});var f=a(M,2);y(f,{size:"lg",href:"https://docs.google.com/spreadsheets/d/1LfmR0QLmalz_6rJT_37QjRyFggsCXXOl5e24nOuw6XI/",children:(t,r)=>{i();var e=o("countries");s(t,e)},$$slots:{default:!0}});var H=a(f,2);y(H,{size:"lg",href:"https://docs.google.com/spreadsheets/d/1Zhs2RUElDE96EJmXGOCogfUdukj6mpbhWwsd6e2Sb34/",children:(t,r)=>{i();var e=o("ports of entry");s(t,e)},$$slots:{default:!0}});var ce=a(H,2);y(ce,{size:"lg",href:"https://docs.google.com/spreadsheets/d/1DH_0Wf0ALAB72D-v1Gu3sl7Iv_d6doSMv5-jj_r5Crc/",children:(t,r)=>{i();var e=o("naturalization locations");s(t,e)},$$slots:{default:!0}}),i(),n(v);var S=a(v,2),V=a(l(S),3);d(V,{size:"lg",href:"#dnn",children:(t,r)=>{i();var e=o("Deep Neural Networks");s(t,e)},$$slots:{default:!0}});var X=a(V,2);d(X,{size:"lg",href:`${p??""}/results/page?query=&limit_fields.doctype.ms_doctype_v1=form`,children:(t,r)=>{i();var e=o("forms");s(t,e)},$$slots:{default:!0}});var J=a(X,2);d(J,{size:"lg",href:`${p??""}/results/page?query=&limit_fields.doctype.ms_doctype_v1=letter`,children:(t,r)=>{i();var e=o("letters");s(t,e)},$$slots:{default:!0}});var K=a(J,2);d(K,{size:"lg",href:`${p??""}/results/page?query=&limit_fields.doctype.ms_doctype_v1=photograph`,children:(t,r)=>{i();var e=o("photographs");s(t,e)},$$slots:{default:!0}});var me=a(K,2);d(me,{size:"lg",href:`${p??""}/results/page?query=&limit_fields.doctype.ms_doctype_v1=misc`,children:(t,r)=>{i();var e=o("“misc”");s(t,e)},$$slots:{default:!0}}),i(),n(S);var q=a(S,2),he=a(l(q));d(he,{size:"lg",href:"#ocr",children:(t,r)=>{i();var e=o("Optical Character Recognition (OCR)");s(t,e)},$$slots:{default:!0}}),i(),n(q);var I=a(q,2),fe=a(l(I));d(fe,{size:"lg",href:"#ner",children:(t,r)=>{i();var e=o("Named Entity Recognition (NER)");s(t,e)},$$slots:{default:!0}}),i(),n(I);var O=a(I,4),ue=a(l(O));d(ue,{size:"lg",href:"#llm",children:(t,r)=>{i();var e=o("Large Language Model (LLM)");s(t,e)},$$slots:{default:!0}}),i(),n(O);var Y=a(O,2),Z=a(l(Y));d(Z,{size:"lg",href:`${p??""}/results/natcert?selectedFields=fields.certificate_naturalization.complexion.complexion_llm_v1&query=medium`,children:(t,r)=>{i();var e=o("medium");s(t,e)},$$slots:{default:!0}});var ee=a(Z,2);d(ee,{size:"lg",href:`${p??""}/results/natcert?selectedFields=fields.certificate_naturalization.complexion.complexion_llm_v1&query=dark`,children:(t,r)=>{i();var e=o("dark");s(t,e)},$$slots:{default:!0}});var te=a(ee,2);d(te,{size:"lg",href:`${p??""}/results/natcert?selectedFields=fields.certificate_naturalization.complexion.complexion_llm_v1&query=fair`,children:(t,r)=>{i();var e=o("fair");s(t,e)},$$slots:{default:!0}});var pe=a(te,2);d(pe,{size:"lg",href:`${p??""}/results/natcert?selectedFields=fields.certificate_naturalization.complexion.complexion_llm_v1&query=n.a`,children:(t,r)=>{i();var e=o("N.A");s(t,e)},$$slots:{default:!0}}),i(),n(Y),i(2),n(b);var E=a(b,4);U(E,5,()=>Fe,Q,(t,r)=>{Me(t,{get id(){return u(r).id},children:(e,F)=>{var m=Te(),g=l(m),D=l(g,!0);n(g);var k=a(g,2),$=l(k),P=a($);$e(P,()=>u(r).models,G=>{var w=Re(),re=a(l(w));U(re,1,()=>u(r).models,Q,(j,W)=>{var A=Pe(),ye=oe(A);y(ye,{size:"sm",get href(){return u(W).link},children:(_e,qe)=>{i();var se=o();z(()=>L(se,u(W).name)),s(_e,se)},$$slots:{default:!0}}),i(),s(j,A)}),n(w),s(G,w)}),n(k),n(m),z(()=>{L(D,u(r).term),L($,`${u(r).description??""} `)}),s(e,m)},$$slots:{default:!0}})}),n(E);var ae=a(E,4),B=l(ae),ie=l(B),ge=l(ie);d(ge,{href:"#nara",children:(t,r)=>{de(t,{interactive:!0,id:"nara",type:"blue",children:(e,F)=>{i();var m=o("#nara");s(e,m)},$$slots:{default:!0}})},$$slots:{default:!0}}),n(ie),i(2),n(B);var ve=a(B,2);U(ve,1,()=>Object.entries(ke),Q,(t,r)=>{let e=()=>u(r)[0],F=()=>u(r)[1];var m=Ce(),g=l(m),D=l(g),k=be(()=>`#${e()}`);d(D,{get href(){return u(k)},children:(w,re)=>{de(w,{interactive:!0,get id(){return e()},type:"green",children:(j,W)=>{i();var A=o();z(()=>L(A,`#${e()??""}`)),s(j,A)},$$slots:{default:!0}})},$$slots:{default:!0}}),n(g);var $=a(g,2),P=l($),G=l(P,!0);n(P),n($),n(m),z(()=>L(G,F())),s(t,m)}),n(ae),s(C,h)}export{He as component};
