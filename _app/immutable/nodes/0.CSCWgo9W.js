import{b as $}from"../chunks/DXNXhkvv.js";import{r as A}from"../chunks/BIyDVIp2.js";import{a as l,b as v,t as y}from"../chunks/BFxvys8O.js";import{h as E,a1 as z,u as F,aw as G,W as H,j as N,w as D,c as d,s as f,n as m,r as c,p as R,a as M,a4 as W,f as q}from"../chunks/C_xYL8jV.js";import{p as B,i as L,a as J,c as k}from"../chunks/D5yCyLqO.js";import{s as K,g as Q,w as U}from"../chunks/SUrcG8WX.js";import{p as V}from"../chunks/DrEI5GlY.js";import{i as X}from"../chunks/D7ZIab07.js";import{O as I}from"../chunks/Cj0KqBsz.js";import{L as _}from"../chunks/CHW0kpE5.js";import{L as Y}from"../chunks/CW1HIWk8.js";function Z(t,e,...r){var o=t,i=G,n;E(()=>{i!==(i=e())&&(n&&(H(n),n=null),n=F(()=>i(o,...r)))},z),N&&(o=D)}const tt=!0,et=!1;async function st({url:t}){let e,r;const o=t.pathname.includes("login");e=localStorage.getItem("password"),r=e==="fredandbrody",console.log("loggedIn:",r),!r&&!o&&(console.log("redirecting!"),A(302,`${$}/login`))}const yt=Object.freeze(Object.defineProperty({__proto__:null,load:st,prerender:tt,ssr:et},Symbol.toStringTag,{value:"Module"})),at=()=>{const t=K;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},rt={subscribe(t){return at().navigating.subscribe(t)}};var ot=y('<span class="text-lg font-bold">M/S Reading Room</span>'),nt=y('<header class="sticky top-0 z-50"><div class="bg-[#161616] px-4 py-2 md:px-8 lg:px-28"><nav class="flex w-full flex-row flex-wrap items-center justify-between gap-2 md:gap-8"><div class="flex items-center justify-start gap-2 md:gap-8"><!> <!> <!></div> <div class="flex items-center justify-end"><!> <!> <!></div></nav></div></header>');function it(t){var e=nt(),r=d(e),o=d(r),i=d(o),n=d(i);_(n,{class:"pr-2 text-xs !text-white",href:$,children:(s,g)=>{var a=ot();l(s,a)},$$slots:{default:!0}});var u=f(n,2);_(u,{class:"pr-2 !text-white",href:`${$??""}/about`,children:(s,g)=>{m();var a=v("About + Credits");l(s,a)},$$slots:{default:!0}});var x=f(u,2);_(x,{class:"pr-2 !text-white",href:`${$??""}/data-guide`,children:(s,g)=>{m();var a=v("Data Guide");l(s,a)},$$slots:{default:!0}}),c(i);var p=f(i,2),h=d(p);I(h,{class:"pr-2 !text-white",href:"https://migrants-and-the-state.github.io/",children:(s,g)=>{m();var a=v("M/S Project");l(s,a)},$$slots:{default:!0}});var b=f(h,2);I(b,{class:"pr-2 !text-white",href:"https://github.com/migrants-and-the-state",children:(s,g)=>{m();var a=v("GitHub");l(s,a)},$$slots:{default:!0}});var w=f(b,2);I(w,{class:"pr-2 !text-white",href:"https://migrants-and-the-state.github.io/#contact",children:(s,g)=>{m();var a=v("Contact");l(s,a)},$$slots:{default:!0}}),c(p),c(o),c(r),c(e),l(t,e)}var lt=y("<div><!></div>");function dt(t,e){R(e,!1);let r=B(e,"loggedIn",8,!1);X();var o=lt(),i=d(o);L(i,r,n=>{_(n,{class:"!text-white",href:"#",$$events:{click:[()=>localStorage.setItem("password",""),()=>Q($)]},children:(u,x)=>{m();var p=v("Logout");l(u,p)},$$slots:{default:!0}})},n=>{_(n,{class:"!text-white",href:`${$??""}/login`,children:(u,x)=>{m();var p=v("Login");l(u,p)},$$slots:{default:!0}})}),c(o),l(t,o),M()}const ct="Last updated: 2/14/2025 at 6:02:26 PM";var pt=y('<!> <div class="min-h-screen flex flex-col justify-between"><div><!> <main class="relative mt-6 mb-32 w-full px-4 md:px-8 lg:px-28"><!></main></div> <footer class="bg-[#161616] text-white px-4 py-2 md:px-8 lg:px-28 flex justify-between items-center"><p class="py-1 text-[.8em] font-mono"></p> <!></footer></div>',1);function Pt(t,e){R(e,!0);const r=J(),o=()=>k(rt,"$navigating",r),i=()=>k(x,"$loggedIn",r),n=V.url.pathname.includes("login");let u=localStorage.getItem("password");const x=U(u==="fredandbrody");let p,h=!1;W(()=>{o()?p=setTimeout(()=>{h=!0},500):(clearTimeout(p),h=!1)});var b=pt(),w=q(b);L(w,()=>h,P=>{Y(P,{})});var s=f(w,2),g=d(s),a=d(g);L(a,()=>!n,P=>{it(P)});var S=f(a,2),O=d(S);Z(O,()=>e.children),c(S),c(g);var j=f(g,2),T=d(j);T.textContent=`M/S_RR v0.1.0; ${ct}`;var C=f(T,2);dt(C,{get loggedIn(){return i()}}),c(j),c(s),l(t,b),M()}export{Pt as component,yt as universal};
