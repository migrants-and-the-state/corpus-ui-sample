import{e as We}from"../chunks/C81JRg4G.js";import{C as Ce,v as Ye}from"../chunks/CHjWfPlX.js";import{W as qe,a as Je,B as Be,s as Xe}from"../chunks/BphXIgPf.js";import{a as x,n as Re,b as Se,e as ne,t as N,f as Le}from"../chunks/DiEoHLWY.js";import{i as be}from"../chunks/BLe4bZYQ.js";import{F as xe,a1 as F,a2 as Te,t as T,J as me,c as f,r as v,n as Ae,a3 as U,a4 as E,g as a,a5 as K,ab as Ge,s as h,f as ce,ad as Ve,d as _e}from"../chunks/BHJvm40H.js";import{s as V}from"../chunks/CoS6JQuK.js";import{l as re,p as i,i as B,a as He,b as je,d as ze,u as Ee,s as Ke}from"../chunks/CL9IDPk4.js";import{e as Me,i as Qe}from"../chunks/BfmxPbax.js";import{s as De,t as c,c as ke,b as H,d as R,e as Ze,L as et}from"../chunks/DqzawnL3.js";import{b as Oe}from"../chunks/-ce0jdMt.js";import{c as Fe,a as $e,o as tt}from"../chunks/DffkK_1Q.js";import{w as Ie}from"../chunks/CE2uoynp.js";var at=Re("<title> </title>"),it=Re('<svg><!><path d="M12 8L22 16 12 24z"></path></svg>');function lt(O,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),I=re(d,["size","title"]);xe(e,!1);const r=K(),p=K();let L=i(e,"size",8,16),w=i(e,"title",8,void 0);F(()=>(E(d),E(w())),()=>{U(r,d["aria-label"]||d["aria-labelledby"]||w())}),F(()=>(a(r),E(d)),()=>{U(p,{"aria-hidden":a(r)?void 0:!0,role:a(r)?"img":void 0,focusable:Number(d.tabindex)===0?!0:void 0})}),Te(),be();var l=it();let n;var y=f(l);B(y,w,M=>{var _=at(),Y=f(_,!0);v(_),T(()=>V(Y,w())),x(M,_)}),Ae(),v(l),T(()=>n=De(l,n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:L(),height:L(),...a(p),...I},void 0,!0)),x(O,l),me()}var nt=Re("<title> </title>"),rt=Re('<svg><!><path d="M20 24L10 16 20 8z"></path></svg>');function st(O,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),I=re(d,["size","title"]);xe(e,!1);const r=K(),p=K();let L=i(e,"size",8,16),w=i(e,"title",8,void 0);F(()=>(E(d),E(w())),()=>{U(r,d["aria-label"]||d["aria-labelledby"]||w())}),F(()=>(a(r),E(d)),()=>{U(p,{"aria-hidden":a(r)?void 0:!0,role:a(r)?"img":void 0,focusable:Number(d.tabindex)===0?!0:void 0})}),Te(),be();var l=rt();let n;var y=f(l);B(y,w,M=>{var _=nt(),Y=f(_,!0);v(_),T(()=>V(Y,w())),x(M,_)}),Ae(),v(l),T(()=>n=De(l,n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:L(),height:L(),...a(p),...I},void 0,!0)),x(O,l),me()}var dt=N("<label><!></label>"),ot=N("<div> </div>"),ct=N("<div> </div>"),ut=N("<div><div><select><!></select> <!> <!></div> <!></div> <!>",1),vt=N("<div> </div>"),gt=N("<div> </div>"),ft=N("<div> </div>"),_t=N("<div><select><!></select> <!> <!> <!></div> <!> <!> <!>",1),bt=N("<div><div><!> <!> <!></div></div>");function Ue(O,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),I=re(d,["selected","size","inline","light","disabled","id","name","invalid","invalidText","warn","warnText","helperText","noLabel","labelText","hideLabel","ref","required"]);xe(e,!1);const r=He(),p=()=>ze(he,"$defaultValue",r),L=()=>ze(ae,"$defaultSelectId",r),w=()=>ze(se,"$itemTypesByValue",r),l=()=>ze(te,"$selectedValue",r),n=K();let y=i(e,"selected",12,void 0),M=i(e,"size",8,void 0),_=i(e,"inline",8,!1),Y=i(e,"light",8,!1),J=i(e,"disabled",8,!1),A=i(e,"id",24,()=>"ccs-"+Math.random().toString(36)),ue=i(e,"name",8,void 0),S=i(e,"invalid",8,!1),t=i(e,"invalidText",8,""),g=i(e,"warn",8,!1),C=i(e,"warnText",8,""),P=i(e,"helperText",8,""),X=i(e,"noLabel",8,!1),j=i(e,"labelText",8,""),Q=i(e,"hideLabel",8,!1),$=i(e,"ref",12,null),ve=i(e,"required",8,!1);const ee=Fe(),te=Ie(y()),ae=Ie(null),he=Ie(null),se=Ie({});Ge("Select",{selectedValue:te,setDefaultValue:(W,b)=>{p()===null?(ae.set(W),he.set(b)):L()===W&&te.set(b),se.update(k=>({...k,[b]:typeof b}))}});const ge=({target:W})=>{let b=W.value;w()[b]==="number"&&(b=Number(b)),te.set(b)};let pe;$e(()=>{y(l()),pe!==void 0&&y()!==pe&&ee("update",l()),pe=y()}),F(()=>E(A()),()=>{U(n,`error-${A()}`)}),F(()=>(E(y()),p()),()=>{te.set(y()??p())}),Te(),be();var fe=bt();let Pe;var ie=f(fe);c(ie,"bx--select",!0);var q=f(ie);B(q,()=>!X(),W=>{var b=dt(),k=f(b);ke(k,e,"labelText",{},s=>{var o=Se();T(()=>V(o,j())),x(s,o)}),v(b),T(()=>{R(b,"for",A()),c(b,"bx--label",!0),c(b,"bx--visually-hidden",Q()),c(b,"bx--label--disabled",J())}),x(W,b)});var m=h(q,2);B(m,_,W=>{var b=ut(),k=ce(b);c(k,"bx--select-input--inline__wrapper",!0);var s=f(k),o=f(s),de=f(o);ke(de,e,"default",{},null),v(o),je(o,D=>$(D),()=>$());var Z=h(o,2);Ce(Z,{class:"bx--select__arrow"});var le=h(Z,2);B(le,S,D=>{qe(D,{class:"bx--select__invalid-icon"})}),v(s);var oe=h(s,2);B(oe,S,D=>{var u=ot(),z=f(u,!0);v(u),T(()=>{R(u,"id",a(n)),c(u,"bx--form-requirement",!0),V(z,t())}),x(D,u)}),v(k);var we=h(k,2);B(we,()=>!S()&&!g()&&P(),D=>{var u=ct();c(u,"bx--form__helper-text",!0);var z=f(u,!0);v(u),T(()=>{c(u,"bx--form__helper-text--disabled",J()),V(z,P())}),x(D,u)}),T(()=>{R(s,"data-invalid",S()||void 0),c(s,"bx--select-input__wrapper",!0),R(o,"aria-describedby",S()?a(n):void 0),R(o,"aria-invalid",S()||void 0),o.disabled=J()||void 0,o.required=ve()||void 0,R(o,"id",A()),R(o,"name",ue()),c(o,"bx--select-input",!0),c(o,"bx--select-input--sm",M()==="sm"),c(o,"bx--select-input--xl",M()==="xl")}),ne("change",o,ge),ne("change",o,function(D){H.call(this,e,D)}),ne("input",o,function(D){H.call(this,e,D)}),ne("focus",o,function(D){H.call(this,e,D)}),ne("blur",o,function(D){H.call(this,e,D)}),x(W,b)});var G=h(m,2);B(G,()=>!_(),W=>{var b=_t(),k=ce(b),s=f(k),o=f(s);ke(o,e,"default",{},null),v(s),je(s,u=>$(u),()=>$());var de=h(s,2);Ce(de,{class:"bx--select__arrow"});var Z=h(de,2);B(Z,S,u=>{qe(u,{class:"bx--select__invalid-icon"})});var le=h(Z,2);B(le,()=>!S()&&g(),u=>{Je(u,{class:"bx--select__invalid-icon bx--select__invalid-icon--warning"})}),v(k);var oe=h(k,2);B(oe,()=>!S()&&P(),u=>{var z=vt();c(z,"bx--form__helper-text",!0);var ye=f(z,!0);v(z),T(()=>{c(z,"bx--form__helper-text--disabled",J()),V(ye,P())}),x(u,z)});var we=h(oe,2);B(we,S,u=>{var z=gt(),ye=f(z,!0);v(z),T(()=>{R(z,"id",a(n)),c(z,"bx--form-requirement",!0),V(ye,t())}),x(u,z)});var D=h(we,2);B(D,()=>!S()&&g(),u=>{var z=ft(),ye=f(z,!0);v(z),T(()=>{R(z,"id",a(n)),c(z,"bx--form-requirement",!0),V(ye,C())}),x(u,z)}),T(()=>{R(k,"data-invalid",S()||void 0),c(k,"bx--select-input__wrapper",!0),R(s,"id",A()),R(s,"name",ue()),R(s,"aria-describedby",S()?a(n):void 0),s.disabled=J()||void 0,s.required=ve()||void 0,R(s,"aria-invalid",S()||void 0),c(s,"bx--select-input",!0),c(s,"bx--select-input--sm",M()==="sm"),c(s,"bx--select-input--xl",M()==="xl")}),ne("change",s,ge),ne("change",s,function(u){H.call(this,e,u)}),ne("input",s,function(u){H.call(this,e,u)}),ne("focus",s,function(u){H.call(this,e,u)}),ne("blur",s,function(u){H.call(this,e,u)}),x(W,b)}),v(ie),v(fe),T(()=>{Pe=De(fe,Pe,{...I}),c(fe,"bx--form-item",!0),c(ie,"bx--select--inline",_()),c(ie,"bx--select--light",Y()),c(ie,"bx--select--invalid",S()),c(ie,"bx--select--disabled",J()),c(ie,"bx--select--warning",g())}),x(O,fe),me()}var xt=N("<option> </option>");function Ne(O,e){xe(e,!1);let d=i(e,"value",8,""),I=i(e,"text",8,""),r=i(e,"hidden",8,!1),p=i(e,"disabled",8,!1),L=i(e,"class",8,void 0),w=i(e,"style",8,void 0);const l="ccs-"+Math.random().toString(36),n=Ve("Select")||Ve("TimePickerSelect");let y=K(!1);const M=n.selectedValue.subscribe(A=>{U(y,A===d())});tt(()=>()=>M()),F(()=>E(d()),()=>{var A;(A=n==null?void 0:n.setDefaultValue)==null||A.call(n,l,d())}),Te(),be();var _=xt(),Y={},J=f(_,!0);v(_),T(()=>{Y!==(Y=d())&&(_.value=(_.__value=d())==null?"":d()),_.disabled=p(),_.hidden=r(),_.selected=a(y),Ze(_,L()),R(_,"style",w()),c(_,"bx--select-option",!0),V(J,I()||d())}),x(O,_),me()}var mt=N("<label> </label> <!>",1),ht=N("<!> <span><!></span>",1),pt=N("<div><div><!> <span><!></span></div> <div><!> <!> <!></div></div>");function wt(O,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),I=re(d,["page","totalItems","disabled","forwardText","backwardText","itemsPerPageText","itemText","itemRangeText","pageInputDisabled","pageSizeInputDisabled","pageSize","pageSizes","pagesUnknown","pageText","pageRangeText","id"]);xe(e,!1);const r=K(),p=K(),L=K(),w=K();let l=i(e,"page",12,1),n=i(e,"totalItems",8,0),y=i(e,"disabled",8,!1),M=i(e,"forwardText",8,"Next page"),_=i(e,"backwardText",8,"Previous page"),Y=i(e,"itemsPerPageText",8,"Items per page:"),J=i(e,"itemText",8,(q,m)=>`${q}–${m} item${m===1?"":"s"}`),A=i(e,"itemRangeText",8,(q,m,G)=>`${q}–${m} of ${G} item${m===1?"":"s"}`),ue=i(e,"pageInputDisabled",8,!1),S=i(e,"pageSizeInputDisabled",8,!1),t=i(e,"pageSize",12,10),g=i(e,"pageSizes",24,()=>[10]),C=i(e,"pagesUnknown",8,!1),P=i(e,"pageText",8,q=>`page ${q}`),X=i(e,"pageRangeText",8,(q,m)=>`of ${m} page${m===1?"":"s"}`),j=i(e,"id",24,()=>"ccs-"+Math.random().toString(36));const Q=Fe();$e(()=>{l()>a(r)&&l(a(r))}),F(()=>(E(t()),E(l())),()=>{Q("update",{pageSize:t(),page:l()})}),F(()=>(E(n()),E(t())),()=>{U(r,Math.max(Math.ceil(n()/t()),1))}),F(()=>a(r),()=>{U(p,Array.from({length:a(r)},(q,m)=>m))}),F(()=>(E(y()),E(l())),()=>{U(L,y()||l()===1)}),F(()=>(E(y()),E(l()),a(r)),()=>{U(w,y()||l()===a(r))}),Te(),be();var $=pt();let ve;var ee=f($);c(ee,"bx--pagination__left",!0);var te=f(ee);B(te,()=>!S(),q=>{var m=mt(),G=ce(m),W=f(G,!0);v(G);var b=h(G,2);Ue(b,{get id(){return`bx--pagination-select-${j()??""}`},class:"bx--select__item-count",hideLabel:!0,noLabel:!0,inline:!0,get selected(){return t()},set selected(k){t(k)},$$events:{change:()=>{Q("change",{pageSize:t()})}},children:(k,s)=>{var o=Le(),de=ce(o);Me(de,3,g,Z=>Z,(Z,le)=>{var oe=_e(()=>a(le).toString());Ne(Z,{get value(){return a(le)},get text(){return a(oe)}})}),x(k,o)},$$slots:{default:!0},$$legacy:!0}),T(()=>{R(G,"id",`bx--pagination-select-${j()??""}-count-label`),R(G,"for",`bx--pagination-select-${j()??""}`),c(G,"bx--pagination__text",!0),V(W,Y())}),x(q,m)});var ae=h(te,2),he=f(ae);B(he,C,q=>{var m=Se();T(()=>V(m,J()(t()*(l()-1)+1,l()*t()))),x(q,m)},q=>{var m=Se();T(()=>V(m,A()(Math.min(t()*(l()-1)+1,n()),Math.min(l()*t(),n()),n()))),x(q,m)}),v(ae),v(ee);var se=h(ee,2);c(se,"bx--pagination__right",!0);var ge=f(se);B(ge,()=>!ue(),q=>{var m=ht(),G=ce(m),W=_e(()=>`bx--pagination-select-${j()+2}`);Ue(G,{get id(){return a(W)},class:"bx--select__page-number",get labelText(){return`Page number, of ${a(r)??""} pages`},inline:!0,hideLabel:!0,get selected(){return l()},set selected(s){l(s)},$$events:{change:()=>{Q("change",{page:l()})}},children:(s,o)=>{var de=Le(),Z=ce(de);Me(Z,3,()=>a(p),le=>le,(le,oe)=>{var we=_e(()=>a(oe)+1),D=_e(()=>(a(oe)+1).toString());Ne(le,{get value(){return a(we)},get text(){return a(D)}})}),x(s,de)},$$slots:{default:!0},$$legacy:!0});var b=h(G,2);c(b,"bx--pagination__text",!0);var k=f(b);B(k,C,s=>{var o=Se();T(()=>V(o,P()(l()))),x(s,o)},s=>{var o=Se();T(()=>V(o,X()(l(),a(r)))),x(s,o)}),v(b),x(q,m)});var pe=h(ge,2),fe=_e(()=>`bx--pagination__button bx--pagination__button--backward ${(a(L)?"bx--pagination__button--no-index":"")??""}`);Be(pe,{kind:"ghost",tooltipAlignment:"center",tooltipPosition:"top",icon:st,get iconDescription(){return _()},get disabled(){return a(L)},get class(){return a(fe)},$$events:{click:()=>{Ee(l,-1),Q("click:button--previous",{page:l()}),Q("change",{page:l()})}}});var Pe=h(pe,2),ie=_e(()=>`bx--pagination__button bx--pagination__button--forward ${(a(w)?"bx--pagination__button--no-index":"")??""}`);Be(Pe,{kind:"ghost",tooltipAlignment:"end",tooltipPosition:"top",icon:lt,get iconDescription(){return M()},get disabled(){return a(w)},get class(){return a(ie)},$$events:{click:()=>{Ee(l),Q("click:button--next",{page:l()}),Q("change",{page:l()})}}}),v(se),v($),T(()=>{ve=De($,ve,{id:j(),...I}),c($,"bx--pagination",!0),c(ae,"bx--pagination__text",!S())}),x(O,$),me()}function Tt(O,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),I=re(d,["clicked","light","disabled","href"]);xe(e,!1);let r=i(e,"clicked",12,!1),p=i(e,"light",8,!1),L=i(e,"disabled",8,!1),w=i(e,"href",8,void 0);be();var l=_e(()=>`bx--tile bx--tile--clickable ${(r()&&"bx--tile--is-clicked")??""} ${(p()&&"bx--tile--light")??""} ${I.class??""}`);et(O,Ke(()=>I,{get disabled(){return L()},get class(){return a(l)},get href(){return w()},$$events:{click:[function(n){H.call(this,e,n)},()=>{r(!r())}],keydown:[function(n){H.call(this,e,n)},({key:n})=>{(n===" "||n==="Enter")&&r(!r())}],mouseover(n){H.call(this,e,n)},mouseenter(n){H.call(this,e,n)},mouseleave(n){H.call(this,e,n)}},children:(n,y)=>{var M=Le(),_=ce(M);ke(_,e,"default",{},null),x(n,M)},$$slots:{default:!0}})),me()}async function yt({url:O,params:e}){const d=new URL(O.href),I=new URLSearchParams(d.search),r=e.scope;if(Ye.includes(r)){const p=await Xe(r,I);return console.log("results",p),{url:O.href,scope:r,results:p}}else We(404,"Not Found")}const Ut=Object.freeze(Object.defineProperty({__proto__:null,load:yt},Symbol.toStringTag,{value:"Module"}));var St=N("<a>Back to search</a>"),Pt=N('<div class="flex items-center"><img class="mr-4 h-40 w-36 rounded object-cover"> <div><div class="text-lg font-semibold"> </div> <div class="text-sm text-gray-500"> </div> <div class="my-2 text-xs text-gray-700"> </div> <div class="my-2 font-mono text-xs text-gray-700"> </div></div></div>'),zt=N('<!> <h1 class="py-4"></h1> <!> <div class="space-y-4"></div>',1);function Nt(O,e){xe(e,!1);const d=K(),I=K(),r=K();let p=i(e,"data",8);const L=p().results;localStorage.setItem("resultReferrer",p().url);const w=(t,g,C,P)=>{var X,j;return(j=(X=t==null?void 0:t.fields)==null?void 0:X[C])!=null&&j[P]?`${g}: ${t.fields[C][P]}; `:""},l=L.length,n=t=>{const g=((t==null?void 0:t.full_text)??"").substring(0,266),C=(t.page_index||0)+1;let P="";return P+=w(t,"FORM TITLE","form_title","ms_form_title_llm_v1"),P+=w(t,"DOCUMENT TYPE","doctype","ms_doctype_v1"),P+=w(t,"COUNTRIES","countries","ms_countries_nlp_v1"),{id:t.id,label:`${t.anumber} Page ${C}`,thumbnail:`https://dctn4zjpwgdwdiiy5odjv7o2se0bqgjb.lambda-url.us-east-1.on.aws/iiif/3/og-2023-kc-nara_${t.id}/square/300,/0/default.jpg`,details:P,full_text:g,url:`${Oe}/view/afile/${t.id.replace("_","/")}?tab=page`,pageInfo:""}},y=t=>{var g,C,P,X,j;return{id:t.id,label:`${t.fields.last_name.nara}, ${t.fields.first_name.nara} | ${t.id}`,thumbnail:`https://dctn4zjpwgdwdiiy5odjv7o2se0bqgjb.lambda-url.us-east-1.on.aws/iiif/3/og-2023-kc-nara_${t.id}_0000/square/250,/0/default.jpg`,details:`DOB: ${(g=t.fields.dob)==null?void 0:g.nara}; SEX: ${(C=t.fields.sex)==null?void 0:C.nara}; DOE: ${(P=t.fields.doe)==null?void 0:P.nara}, COB: ${(X=t.fields.cob)==null?void 0:X.nara}, POE: ${(j=t.fields.poe)==null?void 0:j.nara}`,full_text:"",url:`${Oe}/view/afile/${t.id}/0000?tab=afile`,pageInfo:(t.page_count||0)+" pages"}},M=t=>{const g=(t-1)*a(I),C=g+a(I);return L.slice(g,C).map(P=>p().scope==="afile"?y(P):n(P))};function _(t){const{page:g,pageSize:C}=t.detail;U(I,C),U(d,g),console.log("updating!"),U(r,M(g))}F(()=>{},()=>{U(d,1)}),F(()=>{},()=>{U(I,10)}),F(()=>a(d),()=>{U(r,M(a(d)))}),Te(),be();var Y=zt(),J=ce(Y);B(J,()=>localStorage.getItem("formReferrer"),t=>{var g=St();R(g,"href",localStorage.getItem("formReferrer")),x(t,g)});var A=h(J,2);A.textContent=`Search Results (${l??""})`;var ue=h(A,2);wt(ue,{class:"mb-6",totalItems:l,pageSizes:[10,20,50],get pageSize(){return a(I)},$$events:{update:_}});var S=h(ue,2);Me(S,5,()=>a(r),Qe,(t,g)=>{Tt(t,{get href(){return a(g).url},class:"rounded-lg border p-4 shadow transition-shadow duration-200 hover:shadow-lg",children:(C,P)=>{var X=Pt(),j=f(X),Q=h(j,2),$=f(Q),ve=f($,!0);v($);var ee=h($,2),te=f(ee,!0);v(ee);var ae=h(ee,2),he=f(ae,!0);v(ae);var se=h(ae,2),ge=f(se,!0);v(se),v(Q),v(X),T(()=>{R(j,"src",a(g).thumbnail),R(j,"alt",a(g).label),V(ve,a(g).label),V(te,a(g).pageInfo),V(he,a(g).details),V(ge,a(g).full_text)}),x(C,X)},$$slots:{default:!0}})}),v(S),x(O,Y),me()}export{Nt as component,Ut as universal};
