import{e as We}from"../chunks/index.BzPFa4rv.js";import{C as Ce,v as Ye}from"../chunks/scope.D4IEUsUB.js";import{b as Le}from"../chunks/paths.BAFgz7Iz.js";import{a as x,n as Re,b as Se,e as ie,t as U,f as Me}from"../chunks/disclose-version.DUNm5iRk.js";import{i as be}from"../chunks/legacy.CrVIr-Sd.js";import{F as xe,a1 as A,a2 as we,t as T,J as me,c as f,r as g,n as Ae,a3 as O,a4 as B,g as a,a5 as H,ae as Je,s as w,f as ue,af as qe,d as _e}from"../chunks/utils.s_iYv-Kx.js";import{s as q}from"../chunks/render.X3ISH3JE.js";import{l as le,p as i,i as C,a as Xe,b as Be,d as ze,u as Ve,s as Ge}from"../chunks/props.C5BQS2sT.js";import{e as je,i as He}from"../chunks/each.Ke1H6FHE.js";import{s as De,t as u,c as ke,b as G,d as k,e as Ke,L as Qe}from"../chunks/Link.D8JIFgNW.js";import{c as Fe,a as $e,o as Ze}from"../chunks/index-client.DZOcoNQN.js";import{W as Ee,a as et,B as Oe}from"../chunks/WarningAltFilled.BfZ4UrLV.js";import{w as Ie}from"../chunks/control.BsazUMMJ.js";var tt=Re("<title> </title>"),at=Re('<svg><!><path d="M12 8L22 16 12 24z"></path></svg>');function it(V,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),P=le(o,["size","title"]);xe(e,!1);const r=H(),p=H();let R=i(e,"size",8,16),m=i(e,"title",8,void 0);A(()=>(B(o),B(m())),()=>{O(r,o["aria-label"]||o["aria-labelledby"]||m())}),A(()=>(a(r),B(o)),()=>{O(p,{"aria-hidden":a(r)?void 0:!0,role:a(r)?"img":void 0,focusable:Number(o.tabindex)===0?!0:void 0})}),we(),be();var l=at();let n;var y=f(l);C(y,m,M=>{var _=tt(),$=f(_,!0);g(_),T(()=>q($,m())),x(M,_)}),Ae(),g(l),T(()=>n=De(l,n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:R(),height:R(),...a(p),...P},void 0,!0)),x(V,l),me()}var lt=Re("<title> </title>"),nt=Re('<svg><!><path d="M20 24L10 16 20 8z"></path></svg>');function rt(V,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),P=le(o,["size","title"]);xe(e,!1);const r=H(),p=H();let R=i(e,"size",8,16),m=i(e,"title",8,void 0);A(()=>(B(o),B(m())),()=>{O(r,o["aria-label"]||o["aria-labelledby"]||m())}),A(()=>(a(r),B(o)),()=>{O(p,{"aria-hidden":a(r)?void 0:!0,role:a(r)?"img":void 0,focusable:Number(o.tabindex)===0?!0:void 0})}),we(),be();var l=nt();let n;var y=f(l);C(y,m,M=>{var _=lt(),$=f(_,!0);g(_),T(()=>q($,m())),x(M,_)}),Ae(),g(l),T(()=>n=De(l,n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:R(),height:R(),...a(p),...P},void 0,!0)),x(V,l),me()}var st=U("<label><!></label>"),dt=U("<div> </div>"),ot=U("<div> </div>"),ct=U("<div><div><select><!></select> <!> <!></div> <!></div> <!>",1),ut=U("<div> </div>"),vt=U("<div> </div>"),gt=U("<div> </div>"),ft=U("<div><select><!></select> <!> <!> <!></div> <!> <!> <!>",1),_t=U("<div><div><!> <!> <!></div></div>");function Ue(V,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),P=le(o,["selected","size","inline","light","disabled","id","name","invalid","invalidText","warn","warnText","helperText","noLabel","labelText","hideLabel","ref","required"]);xe(e,!1);const r=Xe(),p=()=>ze(ge,"$defaultValue",r),R=()=>ze(oe,"$defaultSelectId",r),m=()=>ze(ce,"$itemTypesByValue",r),l=()=>ze(Q,"$selectedValue",r),n=H();let y=i(e,"selected",12,void 0),M=i(e,"size",8,void 0),_=i(e,"inline",8,!1),$=i(e,"light",8,!1),W=i(e,"disabled",8,!1),N=i(e,"id",24,()=>"ccs-"+Math.random().toString(36)),ve=i(e,"name",8,void 0),t=i(e,"invalid",8,!1),s=i(e,"invalidText",8,""),z=i(e,"warn",8,!1),D=i(e,"warnText",8,""),E=i(e,"helperText",8,""),Y=i(e,"noLabel",8,!1),ee=i(e,"labelText",8,""),J=i(e,"hideLabel",8,!1),K=i(e,"ref",12,null),ne=i(e,"required",8,!1);const de=Fe(),Q=Ie(y()),oe=Ie(null),ge=Ie(null),ce=Ie({});Je("Select",{selectedValue:Q,setDefaultValue:(F,b)=>{p()===null?(oe.set(F),ge.set(b)):R()===F&&Q.set(b),ce.update(I=>({...I,[b]:typeof b}))}});const Te=({target:F})=>{let b=F.value;m()[b]==="number"&&(b=Number(b)),Q.set(b)};let he;$e(()=>{y(l()),he!==void 0&&y()!==he&&de("update",l()),he=y()}),A(()=>B(N()),()=>{O(n,`error-${N()}`)}),A(()=>(B(y()),p()),()=>{Q.set(y()??p())}),we(),be();var fe=_t();let Pe;var te=f(fe);u(te,"bx--select",!0);var j=f(te);C(j,()=>!Y(),F=>{var b=st(),I=f(b);ke(I,e,"labelText",{},d=>{var c=Se();T(()=>q(c,ee())),x(d,c)}),g(b),T(()=>{k(b,"for",N()),u(b,"bx--label",!0),u(b,"bx--visually-hidden",J()),u(b,"bx--label--disabled",W())}),x(F,b)});var h=w(j,2);C(h,_,F=>{var b=ct(),I=ue(b);u(I,"bx--select-input--inline__wrapper",!0);var d=f(I),c=f(d),re=f(c);ke(re,e,"default",{},null),g(c),Be(c,L=>K(L),()=>K());var Z=w(c,2);Ce(Z,{class:"bx--select__arrow"});var ae=w(Z,2);C(ae,t,L=>{Ee(L,{class:"bx--select__invalid-icon"})}),g(d);var se=w(d,2);C(se,t,L=>{var v=dt(),S=f(v,!0);g(v),T(()=>{k(v,"id",a(n)),u(v,"bx--form-requirement",!0),q(S,s())}),x(L,v)}),g(I);var pe=w(I,2);C(pe,()=>!t()&&!z()&&E(),L=>{var v=ot();u(v,"bx--form__helper-text",!0);var S=f(v,!0);g(v),T(()=>{u(v,"bx--form__helper-text--disabled",W()),q(S,E())}),x(L,v)}),T(()=>{k(d,"data-invalid",t()||void 0),u(d,"bx--select-input__wrapper",!0),k(c,"aria-describedby",t()?a(n):void 0),k(c,"aria-invalid",t()||void 0),c.disabled=W()||void 0,c.required=ne()||void 0,k(c,"id",N()),k(c,"name",ve()),u(c,"bx--select-input",!0),u(c,"bx--select-input--sm",M()==="sm"),u(c,"bx--select-input--xl",M()==="xl")}),ie("change",c,Te),ie("change",c,function(L){G.call(this,e,L)}),ie("input",c,function(L){G.call(this,e,L)}),ie("focus",c,function(L){G.call(this,e,L)}),ie("blur",c,function(L){G.call(this,e,L)}),x(F,b)});var X=w(h,2);C(X,()=>!_(),F=>{var b=ft(),I=ue(b),d=f(I),c=f(d);ke(c,e,"default",{},null),g(d),Be(d,v=>K(v),()=>K());var re=w(d,2);Ce(re,{class:"bx--select__arrow"});var Z=w(re,2);C(Z,t,v=>{Ee(v,{class:"bx--select__invalid-icon"})});var ae=w(Z,2);C(ae,()=>!t()&&z(),v=>{et(v,{class:"bx--select__invalid-icon bx--select__invalid-icon--warning"})}),g(I);var se=w(I,2);C(se,()=>!t()&&E(),v=>{var S=ut();u(S,"bx--form__helper-text",!0);var ye=f(S,!0);g(S),T(()=>{u(S,"bx--form__helper-text--disabled",W()),q(ye,E())}),x(v,S)});var pe=w(se,2);C(pe,t,v=>{var S=vt(),ye=f(S,!0);g(S),T(()=>{k(S,"id",a(n)),u(S,"bx--form-requirement",!0),q(ye,s())}),x(v,S)});var L=w(pe,2);C(L,()=>!t()&&z(),v=>{var S=gt(),ye=f(S,!0);g(S),T(()=>{k(S,"id",a(n)),u(S,"bx--form-requirement",!0),q(ye,D())}),x(v,S)}),T(()=>{k(I,"data-invalid",t()||void 0),u(I,"bx--select-input__wrapper",!0),k(d,"id",N()),k(d,"name",ve()),k(d,"aria-describedby",t()?a(n):void 0),d.disabled=W()||void 0,d.required=ne()||void 0,k(d,"aria-invalid",t()||void 0),u(d,"bx--select-input",!0),u(d,"bx--select-input--sm",M()==="sm"),u(d,"bx--select-input--xl",M()==="xl")}),ie("change",d,Te),ie("change",d,function(v){G.call(this,e,v)}),ie("input",d,function(v){G.call(this,e,v)}),ie("focus",d,function(v){G.call(this,e,v)}),ie("blur",d,function(v){G.call(this,e,v)}),x(F,b)}),g(te),g(fe),T(()=>{Pe=De(fe,Pe,{...P}),u(fe,"bx--form-item",!0),u(te,"bx--select--inline",_()),u(te,"bx--select--light",$()),u(te,"bx--select--invalid",t()),u(te,"bx--select--disabled",W()),u(te,"bx--select--warning",z())}),x(V,fe),me()}var bt=U("<option> </option>");function Ne(V,e){xe(e,!1);let o=i(e,"value",8,""),P=i(e,"text",8,""),r=i(e,"hidden",8,!1),p=i(e,"disabled",8,!1),R=i(e,"class",8,void 0),m=i(e,"style",8,void 0);const l="ccs-"+Math.random().toString(36),n=qe("Select")||qe("TimePickerSelect");let y=H(!1);const M=n.selectedValue.subscribe(N=>{O(y,N===o())});Ze(()=>()=>M()),A(()=>B(o()),()=>{var N;(N=n==null?void 0:n.setDefaultValue)==null||N.call(n,l,o())}),we(),be();var _=bt(),$={},W=f(_,!0);g(_),T(()=>{$!==($=o())&&(_.value=(_.__value=o())==null?"":o()),_.disabled=p(),_.hidden=r(),_.selected=a(y),Ke(_,R()),k(_,"style",m()),u(_,"bx--select-option",!0),q(W,P()||o())}),x(V,_),me()}var xt=U("<label> </label> <!>",1),mt=U("<!> <span><!></span>",1),ht=U("<div><div><!> <span><!></span></div> <div><!> <!> <!></div></div>");function pt(V,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),P=le(o,["page","totalItems","disabled","forwardText","backwardText","itemsPerPageText","itemText","itemRangeText","pageInputDisabled","pageSizeInputDisabled","pageSize","pageSizes","pagesUnknown","pageText","pageRangeText","id"]);xe(e,!1);const r=H(),p=H(),R=H(),m=H();let l=i(e,"page",12,1),n=i(e,"totalItems",8,0),y=i(e,"disabled",8,!1),M=i(e,"forwardText",8,"Next page"),_=i(e,"backwardText",8,"Previous page"),$=i(e,"itemsPerPageText",8,"Items per page:"),W=i(e,"itemText",8,(j,h)=>`${j}–${h} item${h===1?"":"s"}`),N=i(e,"itemRangeText",8,(j,h,X)=>`${j}–${h} of ${X} item${h===1?"":"s"}`),ve=i(e,"pageInputDisabled",8,!1),t=i(e,"pageSizeInputDisabled",8,!1),s=i(e,"pageSize",12,10),z=i(e,"pageSizes",24,()=>[10]),D=i(e,"pagesUnknown",8,!1),E=i(e,"pageText",8,j=>`page ${j}`),Y=i(e,"pageRangeText",8,(j,h)=>`of ${h} page${h===1?"":"s"}`),ee=i(e,"id",24,()=>"ccs-"+Math.random().toString(36));const J=Fe();$e(()=>{l()>a(r)&&l(a(r))}),A(()=>(B(s()),B(l())),()=>{J("update",{pageSize:s(),page:l()})}),A(()=>(B(n()),B(s())),()=>{O(r,Math.max(Math.ceil(n()/s()),1))}),A(()=>a(r),()=>{O(p,Array.from({length:a(r)},(j,h)=>h))}),A(()=>(B(y()),B(l())),()=>{O(R,y()||l()===1)}),A(()=>(B(y()),B(l()),a(r)),()=>{O(m,y()||l()===a(r))}),we(),be();var K=ht();let ne;var de=f(K);u(de,"bx--pagination__left",!0);var Q=f(de);C(Q,()=>!t(),j=>{var h=xt(),X=ue(h),F=f(X,!0);g(X);var b=w(X,2);Ue(b,{get id(){return`bx--pagination-select-${ee()??""}`},class:"bx--select__item-count",hideLabel:!0,noLabel:!0,inline:!0,get selected(){return s()},set selected(I){s(I)},$$events:{change:()=>{J("change",{pageSize:s()})}},children:(I,d)=>{var c=Me(),re=ue(c);je(re,3,z,Z=>Z,(Z,ae)=>{var se=_e(()=>a(ae).toString());Ne(Z,{get value(){return a(ae)},get text(){return a(se)}})}),x(I,c)},$$slots:{default:!0},$$legacy:!0}),T(()=>{k(X,"id",`bx--pagination-select-${ee()??""}-count-label`),k(X,"for",`bx--pagination-select-${ee()??""}`),u(X,"bx--pagination__text",!0),q(F,$())}),x(j,h)});var oe=w(Q,2),ge=f(oe);C(ge,D,j=>{var h=Se();T(()=>q(h,W()(s()*(l()-1)+1,l()*s()))),x(j,h)},j=>{var h=Se();T(()=>q(h,N()(Math.min(s()*(l()-1)+1,n()),Math.min(l()*s(),n()),n()))),x(j,h)}),g(oe),g(de);var ce=w(de,2);u(ce,"bx--pagination__right",!0);var Te=f(ce);C(Te,()=>!ve(),j=>{var h=mt(),X=ue(h),F=_e(()=>`bx--pagination-select-${ee()+2}`);Ue(X,{get id(){return a(F)},class:"bx--select__page-number",get labelText(){return`Page number, of ${a(r)??""} pages`},inline:!0,hideLabel:!0,get selected(){return l()},set selected(d){l(d)},$$events:{change:()=>{J("change",{page:l()})}},children:(d,c)=>{var re=Me(),Z=ue(re);je(Z,3,()=>a(p),ae=>ae,(ae,se)=>{var pe=_e(()=>a(se)+1),L=_e(()=>(a(se)+1).toString());Ne(ae,{get value(){return a(pe)},get text(){return a(L)}})}),x(d,re)},$$slots:{default:!0},$$legacy:!0});var b=w(X,2);u(b,"bx--pagination__text",!0);var I=f(b);C(I,D,d=>{var c=Se();T(()=>q(c,E()(l()))),x(d,c)},d=>{var c=Se();T(()=>q(c,Y()(l(),a(r)))),x(d,c)}),g(b),x(j,h)});var he=w(Te,2),fe=_e(()=>`bx--pagination__button bx--pagination__button--backward ${(a(R)?"bx--pagination__button--no-index":"")??""}`);Oe(he,{kind:"ghost",tooltipAlignment:"center",tooltipPosition:"top",icon:rt,get iconDescription(){return _()},get disabled(){return a(R)},get class(){return a(fe)},$$events:{click:()=>{Ve(l,-1),J("click:button--previous",{page:l()}),J("change",{page:l()})}}});var Pe=w(he,2),te=_e(()=>`bx--pagination__button bx--pagination__button--forward ${(a(m)?"bx--pagination__button--no-index":"")??""}`);Oe(Pe,{kind:"ghost",tooltipAlignment:"end",tooltipPosition:"top",icon:it,get iconDescription(){return M()},get disabled(){return a(m)},get class(){return a(te)},$$events:{click:()=>{Ve(l),J("click:button--next",{page:l()}),J("change",{page:l()})}}}),g(ce),g(K),T(()=>{ne=De(K,ne,{id:ee(),...P}),u(K,"bx--pagination",!0),u(oe,"bx--pagination__text",!t())}),x(V,K),me()}function wt(V,e){const o=le(e,["children","$$slots","$$events","$$legacy"]),P=le(o,["clicked","light","disabled","href"]);xe(e,!1);let r=i(e,"clicked",12,!1),p=i(e,"light",8,!1),R=i(e,"disabled",8,!1),m=i(e,"href",8,void 0);be();var l=_e(()=>`bx--tile bx--tile--clickable ${(r()&&"bx--tile--is-clicked")??""} ${(p()&&"bx--tile--light")??""} ${P.class??""}`);Qe(V,Ge(()=>P,{get disabled(){return R()},get class(){return a(l)},get href(){return m()},$$events:{click:[function(n){G.call(this,e,n)},()=>{r(!r())}],keydown:[function(n){G.call(this,e,n)},({key:n})=>{(n===" "||n==="Enter")&&r(!r())}],mouseover(n){G.call(this,e,n)},mouseenter(n){G.call(this,e,n)},mouseleave(n){G.call(this,e,n)}},children:(n,y)=>{var M=Me(),_=ue(M);ke(_,e,"default",{},null),x(n,M)},$$slots:{default:!0}})),me()}async function Tt({url:V,params:e}){const o=new URL(V.href),P=new URLSearchParams(o.search),r=e.scope;if(Ye.includes(r)){const p=`${Le}/api/index/${r}.json`,m=await(await fetch(p)).json()||[];return{url:V.href,scope:r,results:m,searchParams:P}}else We(404,"Not Found")}const Ot=Object.freeze(Object.defineProperty({__proto__:null,load:Tt},Symbol.toStringTag,{value:"Module"}));var yt=U("<a>Back to search</a>"),St=U('<div class="flex items-center"><img class="mr-4 h-40 w-36 rounded object-cover"> <div><div class="text-lg font-semibold"> </div> <div class="text-sm text-gray-500"> </div> <div class="my-2 text-xs text-gray-700"> </div> <div class="my-2 font-mono text-xs text-gray-700"> </div></div></div>'),Pt=U('<!> <h1 class="py-4">Search Results</h1> <!> <div class="space-y-4"></div>',1);function Ut(V,e){xe(e,!1);const o=H(),P=H(),r=H();let p=i(e,"data",8);console.log(p().searchParams),console.log(p().results);const R=p().results;localStorage.setItem("resultReferrer",p().url);const m=(t,s,z,D)=>{var E,Y;return(Y=(E=t==null?void 0:t.fields)==null?void 0:E[z])!=null&&Y[D]?`${s}: ${t.fields[z][D]}; `:""},l=R.length,n=t=>{const s=((t==null?void 0:t.full_text)??"").substring(0,266),z=(t.page_index||0)+1;let D="";return D+=m(t,"FORM TITLE","form_title","ms_form_title_llm_v1"),D+=m(t,"DOCUMENT TYPE","doctype","ms_doctype_v1"),D+=m(t,"COUNTRIES","countries","ms_countries_nlp_v1"),{id:t.id,label:`${t.anumber} Page ${z}`,thumbnail:`https://dctn4zjpwgdwdiiy5odjv7o2se0bqgjb.lambda-url.us-east-1.on.aws/iiif/3/og-2023-kc-nara_${t.id}/square/300,/0/default.jpg`,details:D,full_text:s,url:`${Le}/view/afile/${t.id.replace("_","/")}?tab=page`,pageInfo:""}},y=t=>{var s,z,D,E,Y;return{id:t.id,label:`${t.fields.last_name.nara}, ${t.fields.first_name.nara} | ${t.id}`,thumbnail:`https://dctn4zjpwgdwdiiy5odjv7o2se0bqgjb.lambda-url.us-east-1.on.aws/iiif/3/og-2023-kc-nara_${t.id}_0000/square/250,/0/default.jpg`,details:`DOB: ${(s=t.fields.dob)==null?void 0:s.nara}; SEX: ${(z=t.fields.sex)==null?void 0:z.nara}; DOE: ${(D=t.fields.doe)==null?void 0:D.nara}, COB: ${(E=t.fields.cob)==null?void 0:E.nara}, POE: ${(Y=t.fields.poe)==null?void 0:Y.nara}`,full_text:"",url:`${Le}/view/afile/${t.id}/0000?tab=afile`,pageInfo:(t.page_count||0)+" pages"}},M=t=>{const s=(t-1)*a(P),z=s+a(P);return R.slice(s,z).map(D=>p().scope==="afile"?y(D):n(D))};function _(t){const{page:s,pageSize:z}=t.detail;O(P,z),O(o,s),console.log("updating!"),O(r,M(s))}A(()=>{},()=>{O(o,1)}),A(()=>{},()=>{O(P,10)}),A(()=>a(o),()=>{O(r,M(a(o)))}),we(),be();var $=Pt(),W=ue($);C(W,()=>localStorage.getItem("formReferrer"),t=>{var s=yt();k(s,"href",localStorage.getItem("formReferrer")),x(t,s)});var N=w(W,4);pt(N,{class:"mb-6",totalItems:l,pageSizes:[10,20,50],get pageSize(){return a(P)},$$events:{update:_}});var ve=w(N,2);je(ve,5,()=>a(r),He,(t,s)=>{wt(t,{get href(){return a(s).url},class:"rounded-lg border p-4 shadow transition-shadow duration-200 hover:shadow-lg",children:(z,D)=>{var E=St(),Y=f(E),ee=w(Y,2),J=f(ee),K=f(J,!0);g(J);var ne=w(J,2),de=f(ne,!0);g(ne);var Q=w(ne,2),oe=f(Q,!0);g(Q);var ge=w(Q,2),ce=f(ge,!0);g(ge),g(ee),g(E),T(()=>{k(Y,"src",a(s).thumbnail),k(Y,"alt",a(s).label),q(K,a(s).label),q(de,a(s).pageInfo),q(oe,a(s).details),q(ce,a(s).full_text)}),x(z,E)},$$slots:{default:!0}})}),g(ve),x(V,$),me()}export{Ut as component,Ot as universal};
