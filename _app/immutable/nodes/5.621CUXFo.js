import{e as Xe,a as Ce}from"../chunks/CfZR85UO.js";import{C as qe,v as Ge}from"../chunks/Dn77ozOG.js";import{a as _,n as Le,b as Pe,f as le,t as j,c as Re}from"../chunks/C_4h4-BJ.js";import{i as he}from"../chunks/C_mu5TK4.js";import{p as pe,l as O,a as ye,c as g,r as v,t as y,n as Fe,b as we,e as B,h as V,g as t,m as F,ai as He,s as T,f as ee,ak as Be,d as me}from"../chunks/b7WM4A5n.js";import{s as D}from"../chunks/DuqHnLJg.js";import{l as re,p as i,i as E,a as Je,b as Ve,d as ze,u as je,s as Ke}from"../chunks/DkjXPPA0.js";import{e as Me,i as Qe}from"../chunks/ydVhE_kI.js";import{a as De,t as u,d as Ie,b as G,s as L,e as Ze,L as et}from"../chunks/6FwFBgjN.js";import{b as Ee}from"../chunks/DDsp_VbQ.js";import{W as $e,a as tt,B as Oe,s as at}from"../chunks/C1ksKERe.js";import{L as Ue}from"../chunks/qKhGNyud.js";import{c as We,a as Ye,o as it}from"../chunks/BLtqm4FM.js";import{w as ke}from"../chunks/DapiOgYQ.js";var nt=Le("<title> </title>"),lt=Le('<svg><!><path d="M12 8L22 16 12 24z"></path></svg>');function rt(U,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),P=re(d,["size","title"]);pe(e,!1);const s=F(),z=F();let M=i(e,"size",8,16),w=i(e,"title",8,void 0);O(()=>(V(d),V(w())),()=>{B(s,d["aria-label"]||d["aria-labelledby"]||w())}),O(()=>(t(s),V(d)),()=>{B(z,{"aria-hidden":t(s)?void 0:!0,role:t(s)?"img":void 0,focusable:Number(d.tabindex)===0?!0:void 0})}),ye(),he();var n=lt();let l;var k=g(n);E(k,w,$=>{var x=nt(),Y=g(x,!0);v(x),y(()=>D(Y,w())),_($,x)}),Fe(),v(n),y(()=>l=De(n,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:M(),height:M(),...t(z),...P},void 0,!0)),_(U,n),we()}var st=Le("<title> </title>"),dt=Le('<svg><!><path d="M20 24L10 16 20 8z"></path></svg>');function ot(U,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),P=re(d,["size","title"]);pe(e,!1);const s=F(),z=F();let M=i(e,"size",8,16),w=i(e,"title",8,void 0);O(()=>(V(d),V(w())),()=>{B(s,d["aria-label"]||d["aria-labelledby"]||w())}),O(()=>(t(s),V(d)),()=>{B(z,{"aria-hidden":t(s)?void 0:!0,role:t(s)?"img":void 0,focusable:Number(d.tabindex)===0?!0:void 0})}),ye(),he();var n=dt();let l;var k=g(n);E(k,w,$=>{var x=st(),Y=g(x,!0);v(x),y(()=>D(Y,w())),_($,x)}),Fe(),v(n),y(()=>l=De(n,l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:M(),height:M(),...t(z),...P},void 0,!0)),_(U,n),we()}var ct=j("<label><!></label>"),ut=j("<div> </div>"),vt=j("<div> </div>"),gt=j("<div><div><select><!></select> <!> <!></div> <!></div> <!>",1),_t=j("<div> </div>"),ft=j("<div> </div>"),bt=j("<div> </div>"),xt=j("<div><select><!></select> <!> <!> <!></div> <!> <!> <!>",1),mt=j("<div><div><!> <!> <!></div></div>");function Ne(U,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),P=re(d,["selected","size","inline","light","disabled","id","name","invalid","invalidText","warn","warnText","helperText","noLabel","labelText","hideLabel","ref","required"]);pe(e,!1);const s=Je(),z=()=>ze(ge,"$defaultValue",s),M=()=>ze(xe,"$defaultSelectId",s),w=()=>ze(ae,"$itemTypesByValue",s),n=()=>ze(te,"$selectedValue",s),l=F();let k=i(e,"selected",12,void 0),$=i(e,"size",8,void 0),x=i(e,"inline",8,!1),Y=i(e,"light",8,!1),H=i(e,"disabled",8,!1),a=i(e,"id",24,()=>"ccs-"+Math.random().toString(36)),h=i(e,"name",8,void 0),r=i(e,"invalid",8,!1),f=i(e,"invalidText",8,""),C=i(e,"warn",8,!1),J=i(e,"warnText",8,""),se=i(e,"helperText",8,""),be=i(e,"noLabel",8,!1),de=i(e,"labelText",8,""),K=i(e,"hideLabel",8,!1),X=i(e,"ref",12,null),oe=i(e,"required",8,!1);const W=We(),te=ke(k()),xe=ke(null),ge=ke(null),ae=ke({});He("Select",{selectedValue:te,setDefaultValue:(A,m)=>{z()===null?(xe.set(A),ge.set(m)):M()===A&&te.set(m),ae.update(R=>({...R,[m]:typeof m}))}});const _e=({target:A})=>{let m=A.value;w()[m]==="number"&&(m=Number(m)),te.set(m)};let ie;Ye(()=>{k(n()),ie!==void 0&&k()!==ie&&W("update",n()),ie=k()}),O(()=>V(a()),()=>{B(l,`error-${a()}`)}),O(()=>(V(k()),z()),()=>{te.set(k()??z())}),ye(),he();var ce=mt();let fe;var Q=g(ce);u(Q,"bx--select",!0);var S=g(Q);E(S,()=>!be(),A=>{var m=ct(),R=g(m);Ie(R,e,"labelText",{},o=>{var c=Pe();y(()=>D(c,de())),_(o,c)}),v(m),y(()=>{L(m,"for",a()),u(m,"bx--label",!0),u(m,"bx--visually-hidden",K()),u(m,"bx--label--disabled",H())}),_(A,m)});var p=T(S,2);E(p,x,A=>{var m=gt(),R=ee(m);u(R,"bx--select-input--inline__wrapper",!0);var o=g(R),c=g(o),ue=g(c);Ie(ue,e,"default",{},null),v(c),Ve(c,q=>X(q),()=>X());var Z=T(c,2);qe(Z,{class:"bx--select__arrow"});var ne=T(Z,2);E(ne,r,q=>{$e(q,{class:"bx--select__invalid-icon"})}),v(o);var ve=T(o,2);E(ve,r,q=>{var b=ut(),I=g(b,!0);v(b),y(()=>{L(b,"id",t(l)),u(b,"bx--form-requirement",!0),D(I,f())}),_(q,b)}),v(R);var Te=T(R,2);E(Te,()=>!r()&&!C()&&se(),q=>{var b=vt();u(b,"bx--form__helper-text",!0);var I=g(b,!0);v(b),y(()=>{u(b,"bx--form__helper-text--disabled",H()),D(I,se())}),_(q,b)}),y(()=>{L(o,"data-invalid",r()||void 0),u(o,"bx--select-input__wrapper",!0),L(c,"aria-describedby",r()?t(l):void 0),L(c,"aria-invalid",r()||void 0),c.disabled=H()||void 0,c.required=oe()||void 0,L(c,"id",a()),L(c,"name",h()),u(c,"bx--select-input",!0),u(c,"bx--select-input--sm",$()==="sm"),u(c,"bx--select-input--xl",$()==="xl")}),le("change",c,_e),le("change",c,function(q){G.call(this,e,q)}),le("input",c,function(q){G.call(this,e,q)}),le("focus",c,function(q){G.call(this,e,q)}),le("blur",c,function(q){G.call(this,e,q)}),_(A,m)});var N=T(p,2);E(N,()=>!x(),A=>{var m=xt(),R=ee(m),o=g(R),c=g(o);Ie(c,e,"default",{},null),v(o),Ve(o,b=>X(b),()=>X());var ue=T(o,2);qe(ue,{class:"bx--select__arrow"});var Z=T(ue,2);E(Z,r,b=>{$e(b,{class:"bx--select__invalid-icon"})});var ne=T(Z,2);E(ne,()=>!r()&&C(),b=>{tt(b,{class:"bx--select__invalid-icon bx--select__invalid-icon--warning"})}),v(R);var ve=T(R,2);E(ve,()=>!r()&&se(),b=>{var I=_t();u(I,"bx--form__helper-text",!0);var Se=g(I,!0);v(I),y(()=>{u(I,"bx--form__helper-text--disabled",H()),D(Se,se())}),_(b,I)});var Te=T(ve,2);E(Te,r,b=>{var I=ft(),Se=g(I,!0);v(I),y(()=>{L(I,"id",t(l)),u(I,"bx--form-requirement",!0),D(Se,f())}),_(b,I)});var q=T(Te,2);E(q,()=>!r()&&C(),b=>{var I=bt(),Se=g(I,!0);v(I),y(()=>{L(I,"id",t(l)),u(I,"bx--form-requirement",!0),D(Se,J())}),_(b,I)}),y(()=>{L(R,"data-invalid",r()||void 0),u(R,"bx--select-input__wrapper",!0),L(o,"id",a()),L(o,"name",h()),L(o,"aria-describedby",r()?t(l):void 0),o.disabled=H()||void 0,o.required=oe()||void 0,L(o,"aria-invalid",r()||void 0),u(o,"bx--select-input",!0),u(o,"bx--select-input--sm",$()==="sm"),u(o,"bx--select-input--xl",$()==="xl")}),le("change",o,_e),le("change",o,function(b){G.call(this,e,b)}),le("input",o,function(b){G.call(this,e,b)}),le("focus",o,function(b){G.call(this,e,b)}),le("blur",o,function(b){G.call(this,e,b)}),_(A,m)}),v(Q),v(ce),y(()=>{fe=De(ce,fe,{...P}),u(ce,"bx--form-item",!0),u(Q,"bx--select--inline",x()),u(Q,"bx--select--light",Y()),u(Q,"bx--select--invalid",r()),u(Q,"bx--select--disabled",H()),u(Q,"bx--select--warning",C())}),_(U,ce),we()}var ht=j("<option> </option>");function Ae(U,e){pe(e,!1);let d=i(e,"value",8,""),P=i(e,"text",8,""),s=i(e,"hidden",8,!1),z=i(e,"disabled",8,!1),M=i(e,"class",8,void 0),w=i(e,"style",8,void 0);const n="ccs-"+Math.random().toString(36),l=Be("Select")||Be("TimePickerSelect");let k=F(!1);const $=l.selectedValue.subscribe(a=>{B(k,a===d())});it(()=>()=>$()),O(()=>V(d()),()=>{var a;(a=l==null?void 0:l.setDefaultValue)==null||a.call(l,n,d())}),ye(),he();var x=ht(),Y={},H=g(x,!0);v(x),y(()=>{Y!==(Y=d())&&(x.value=(x.__value=d())==null?"":d()),x.disabled=z(),x.hidden=s(),x.selected=t(k),Ze(x,M()),L(x,"style",w()),u(x,"bx--select-option",!0),D(H,P()||d())}),_(U,x),we()}var pt=j("<label> </label> <!>",1),wt=j("<!> <span><!></span>",1),Tt=j("<div><div><!> <span><!></span></div> <div><!> <!> <!></div></div>");function yt(U,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),P=re(d,["page","totalItems","disabled","forwardText","backwardText","itemsPerPageText","itemText","itemRangeText","pageInputDisabled","pageSizeInputDisabled","pageSize","pageSizes","pagesUnknown","pageText","pageRangeText","id"]);pe(e,!1);const s=F(),z=F(),M=F(),w=F();let n=i(e,"page",12,1),l=i(e,"totalItems",8,0),k=i(e,"disabled",8,!1),$=i(e,"forwardText",8,"Next page"),x=i(e,"backwardText",8,"Previous page"),Y=i(e,"itemsPerPageText",8,"Items per page:"),H=i(e,"itemText",8,(S,p)=>`${S}–${p} item${p===1?"":"s"}`),a=i(e,"itemRangeText",8,(S,p,N)=>`${S}–${p} of ${N} item${p===1?"":"s"}`),h=i(e,"pageInputDisabled",8,!1),r=i(e,"pageSizeInputDisabled",8,!1),f=i(e,"pageSize",12,10),C=i(e,"pageSizes",24,()=>[10]),J=i(e,"pagesUnknown",8,!1),se=i(e,"pageText",8,S=>`page ${S}`),be=i(e,"pageRangeText",8,(S,p)=>`of ${p} page${p===1?"":"s"}`),de=i(e,"id",24,()=>"ccs-"+Math.random().toString(36));const K=We();Ye(()=>{n()>t(s)&&n(t(s))}),O(()=>(V(f()),V(n())),()=>{K("update",{pageSize:f(),page:n()})}),O(()=>(V(l()),V(f())),()=>{B(s,Math.max(Math.ceil(l()/f()),1))}),O(()=>t(s),()=>{B(z,Array.from({length:t(s)},(S,p)=>p))}),O(()=>(V(k()),V(n())),()=>{B(M,k()||n()===1)}),O(()=>(V(k()),V(n()),t(s)),()=>{B(w,k()||n()===t(s))}),ye(),he();var X=Tt();let oe;var W=g(X);u(W,"bx--pagination__left",!0);var te=g(W);E(te,()=>!r(),S=>{var p=pt(),N=ee(p),A=g(N,!0);v(N);var m=T(N,2);Ne(m,{get id(){return`bx--pagination-select-${de()??""}`},class:"bx--select__item-count",hideLabel:!0,noLabel:!0,inline:!0,get selected(){return f()},set selected(R){f(R)},$$events:{change:()=>{K("change",{pageSize:f()})}},children:(R,o)=>{var c=Re(),ue=ee(c);Me(ue,3,C,Z=>Z,(Z,ne)=>{var ve=me(()=>t(ne).toString());Ae(Z,{get value(){return t(ne)},get text(){return t(ve)}})}),_(R,c)},$$slots:{default:!0},$$legacy:!0}),y(()=>{L(N,"id",`bx--pagination-select-${de()??""}-count-label`),L(N,"for",`bx--pagination-select-${de()??""}`),u(N,"bx--pagination__text",!0),D(A,Y())}),_(S,p)});var xe=T(te,2),ge=g(xe);E(ge,J,S=>{var p=Pe();y(()=>D(p,H()(f()*(n()-1)+1,n()*f()))),_(S,p)},S=>{var p=Pe();y(()=>D(p,a()(Math.min(f()*(n()-1)+1,l()),Math.min(n()*f(),l()),l()))),_(S,p)}),v(xe),v(W);var ae=T(W,2);u(ae,"bx--pagination__right",!0);var _e=g(ae);E(_e,()=>!h(),S=>{var p=wt(),N=ee(p),A=me(()=>`bx--pagination-select-${de()+2}`);Ne(N,{get id(){return t(A)},class:"bx--select__page-number",get labelText(){return`Page number, of ${t(s)??""} pages`},inline:!0,hideLabel:!0,get selected(){return n()},set selected(o){n(o)},$$events:{change:()=>{K("change",{page:n()})}},children:(o,c)=>{var ue=Re(),Z=ee(ue);Me(Z,3,()=>t(z),ne=>ne,(ne,ve)=>{var Te=me(()=>t(ve)+1),q=me(()=>(t(ve)+1).toString());Ae(ne,{get value(){return t(Te)},get text(){return t(q)}})}),_(o,ue)},$$slots:{default:!0},$$legacy:!0});var m=T(N,2);u(m,"bx--pagination__text",!0);var R=g(m);E(R,J,o=>{var c=Pe();y(()=>D(c,se()(n()))),_(o,c)},o=>{var c=Pe();y(()=>D(c,be()(n(),t(s)))),_(o,c)}),v(m),_(S,p)});var ie=T(_e,2),ce=me(()=>`bx--pagination__button bx--pagination__button--backward ${(t(M)?"bx--pagination__button--no-index":"")??""}`);Oe(ie,{kind:"ghost",tooltipAlignment:"center",tooltipPosition:"top",icon:ot,get iconDescription(){return x()},get disabled(){return t(M)},get class(){return t(ce)},$$events:{click:()=>{je(n,-1),K("click:button--previous",{page:n()}),K("change",{page:n()})}}});var fe=T(ie,2),Q=me(()=>`bx--pagination__button bx--pagination__button--forward ${(t(w)?"bx--pagination__button--no-index":"")??""}`);Oe(fe,{kind:"ghost",tooltipAlignment:"end",tooltipPosition:"top",icon:rt,get iconDescription(){return $()},get disabled(){return t(w)},get class(){return t(Q)},$$events:{click:()=>{je(n),K("click:button--next",{page:n()}),K("change",{page:n()})}}}),v(ae),v(X),y(()=>{oe=De(X,oe,{id:de(),...P}),u(X,"bx--pagination",!0),u(xe,"bx--pagination__text",!r())}),_(U,X),we()}function St(U,e){const d=re(e,["children","$$slots","$$events","$$legacy"]),P=re(d,["clicked","light","disabled","href"]);pe(e,!1);let s=i(e,"clicked",12,!1),z=i(e,"light",8,!1),M=i(e,"disabled",8,!1),w=i(e,"href",8,void 0);he();var n=me(()=>`bx--tile bx--tile--clickable ${(s()&&"bx--tile--is-clicked")??""} ${(z()&&"bx--tile--light")??""} ${P.class??""}`);et(U,Ke(()=>P,{get disabled(){return M()},get class(){return t(n)},get href(){return w()},$$events:{click:[function(l){G.call(this,e,l)},()=>{s(!s())}],keydown:[function(l){G.call(this,e,l)},({key:l})=>{(l===" "||l==="Enter")&&s(!s())}],mouseover(l){G.call(this,e,l)},mouseenter(l){G.call(this,e,l)},mouseleave(l){G.call(this,e,l)}},children:(l,k)=>{var $=Re(),x=ee($);Ie(x,e,"default",{},null),_(l,$)},$$slots:{default:!0}})),we()}async function Pt({url:U,params:e}){const d=new URL(U.href),P=new URLSearchParams(d.search),s=e.scope;if(Ge.includes(s))return{url:U.href,scope:s,params:P};Xe(404,"Not Found")}const Yt=Object.freeze(Object.defineProperty({__proto__:null,load:Pt},Symbol.toStringTag,{value:"Module"}));var zt=j("<a>Back to search</a>"),kt=j('<div class="flex items-center"><img class="mr-4 h-40 w-36 rounded object-cover"> <div><div class="text-lg font-semibold"> </div> <div class="text-sm text-gray-500"> </div> <div class="my-2 text-xs text-gray-700"> </div> <div class="my-2 font-mono text-xs text-gray-700"> </div></div></div>'),It=j('<h1 class="py-4"> </h1> <!> <div class="space-y-4"></div>',1),Rt=j("<div> </div>"),Lt=j('<h1 class="py-4">Search Results</h1> <!>',1),Dt=j("<!> <!>",1);function Xt(U,e){pe(e,!1);const d=F(),P=F(),s=F(),z=F(),M=F();let w=i(e,"data",8);localStorage.setItem("resultReferrer",w().url);const n=(a,h,r,f)=>{var C,J;return(J=(C=a==null?void 0:a.fields)==null?void 0:C[r])!=null&&J[f]?`${h}: ${a.fields[r][f]}; `:""},l=a=>{const h=((a==null?void 0:a.full_text)??"").substring(0,266),r=(a.page_index||0)+1;let f="";return f+=n(a,"FORM TITLE","form_title","ms_form_title_llm_v1"),f+=n(a,"DOCUMENT TYPE","doctype","ms_doctype_v1"),f+=n(a,"COUNTRIES","countries","ms_countries_nlp_v1"),{id:a.id,label:`${a.anumber} Page ${r}`,thumbnail:`https://dctn4zjpwgdwdiiy5odjv7o2se0bqgjb.lambda-url.us-east-1.on.aws/iiif/3/og-2023-kc-nara_${a.id}/square/300,/0/default.jpg`,details:f,full_text:h,url:`${Ee}/view/afile/${a.id.replace("_","/")}?tab=page`,pageInfo:""}},k=a=>{var h,r,f,C,J;return{id:a.id,label:`${a.fields.last_name.nara}, ${a.fields.first_name.nara} | ${a.id}`,thumbnail:`https://dctn4zjpwgdwdiiy5odjv7o2se0bqgjb.lambda-url.us-east-1.on.aws/iiif/3/og-2023-kc-nara_${a.id}_0000/square/250,/0/default.jpg`,details:`DOB: ${(h=a.fields.dob)==null?void 0:h.nara}; SEX: ${(r=a.fields.sex)==null?void 0:r.nara}; DOE: ${(f=a.fields.doe)==null?void 0:f.nara}, COB: ${(C=a.fields.cob)==null?void 0:C.nara}, POE: ${(J=a.fields.poe)==null?void 0:J.nara}`,full_text:"",url:`${Ee}/view/afile/${a.id}/0000?tab=afile`,pageInfo:(a.page_count||0)+" pages"}};function $(a){const{page:h,pageSize:r}=a.detail;B(P,r),B(d,h),console.log("updating!"),B(s,t(M)(h))}O(()=>{},()=>{B(d,1)}),O(()=>{},()=>{B(P,10)}),O(()=>{},()=>{B(s,[])}),O(()=>V(w()),()=>{B(z,(async()=>await at(w().scope,w().params))())}),O(()=>(t(z),t(P),V(w())),()=>{B(M,async a=>{const h=await t(z),r=(a-1)*t(P),f=r+t(P);return h.slice(r,f).map(C=>w().scope==="afile"?k(C):l(C))})}),ye(),he();var x=Dt(),Y=ee(x);E(Y,()=>localStorage.getItem("formReferrer"),a=>{var h=zt();L(h,"href",localStorage.getItem("formReferrer")),_(a,h)});var H=T(Y,2);Ce(H,()=>t(z),a=>{var h=Lt(),r=T(ee(h),2);Ue(r,{}),_(a,h)},(a,h)=>{var r=Re(),f=ee(r);Ce(f,()=>t(M)(t(d)),C=>{Ue(C,{})},(C,J)=>{var se=It(),be=ee(se),de=g(be);v(be);var K=T(be,2);yt(K,{class:"mb-6",get page(){return t(d)},set page(oe){B(d,oe)},get totalItems(){return t(h).length},get pageSize(){return t(P)},$$events:{update:$},$$legacy:!0});var X=T(K,2);Me(X,5,()=>t(J),Qe,(oe,W)=>{St(oe,{get href(){return t(W).url},class:"rounded-lg border p-4 shadow transition-shadow duration-200 hover:shadow-lg",children:(te,xe)=>{var ge=kt(),ae=g(ge),_e=T(ae,2),ie=g(_e),ce=g(ie,!0);v(ie);var fe=T(ie,2),Q=g(fe,!0);v(fe);var S=T(fe,2),p=g(S,!0);v(S);var N=T(S,2),A=g(N,!0);v(N),v(_e),v(ge),y(()=>{L(ae,"src",t(W).thumbnail),L(ae,"alt",t(W).label),D(ce,t(W).label),D(Q,t(W).pageInfo),D(p,t(W).details),D(A,t(W).full_text)}),_(te,ge)},$$slots:{default:!0}})}),v(X),y(()=>D(de,`Search Results (${t(h).length??""})`)),_(C,se)}),_(a,r)},(a,h)=>{var r=Rt(),f=g(r);v(r),y(()=>D(f,`Error loading results: ${t(h).message??""}`)),_(a,r)}),_(U,x),we()}export{Xt as component,Yt as universal};
