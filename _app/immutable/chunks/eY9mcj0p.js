import{a6 as q,P as F,F as p,v as G,a7 as L,X as w,E as u,V,a8 as H,w as X,a4 as k,a3 as A,a9 as C,aa as D,ab as P,T as x,U as y,ac as Z,I as j}from"./b7WM4A5n.js";import{H as z}from"./BZ13Gt2P.js";const E=0,c=1,I=2;function K(l,_,i,b,v){p&&G();var n=l,N=q(),U=j,a=H,r,t,s,d=(N?k:A)(void 0),m=(N?k:A)(void 0),h=!1;function o(e,f){h=!0,f&&(C(T),D(T),P(U));try{e===E&&i&&(r?x(r):r=u(()=>i(n))),e===c&&b&&(t?x(t):t=u(()=>b(n,d))),e===I&&v&&(s?x(s):s=u(()=>v(n,m))),e!==E&&r&&y(r,()=>r=null),e!==c&&t&&y(t,()=>t=null),e!==I&&s&&y(s,()=>s=null)}finally{f&&(P(null),D(null),C(null),Z())}}var T=F(()=>{if(a!==(a=_())){if(L(a)){var e=a;h=!1,e.then(f=>{e===a&&(w(d,f),o(c,!0))},f=>{if(e===a&&(w(m,f),o(I,!0),!v))throw m.v}),p?i&&(r=u(()=>i(n))):V(()=>{h||o(E,!0)})}else w(d,a),o(c,!1);return()=>a=H}});p&&(n=X)}function M(l,_){throw new z(l,_)}new TextEncoder;export{K as a,M as e};
