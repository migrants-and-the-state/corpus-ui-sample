import{i as j,h as z,j as h,k as B,o as F,q as m,u as c,v as G,U as E,w as L,x as w,y as A,z as C,A as D,B as T,C as y,D as p,E as P,F as Z}from"./C_xYL8jV.js";const x=0,o=1,I=2;function K(q,H,n,N,l){h&&B();var i=q,b=j(),U=Z,a=E,r,s,t,_=(b?w:A)(void 0),v=(b?w:A)(void 0),d=!1;function u(e,f){d=!0,f&&(C(k),D(k),T(U));try{e===x&&n&&(r?y(r):r=c(()=>n(i))),e===o&&N&&(s?y(s):s=c(()=>N(i,_))),e===I&&l&&(t?y(t):t=c(()=>l(i,v))),e!==x&&r&&p(r,()=>r=null),e!==o&&s&&p(s,()=>s=null),e!==I&&t&&p(t,()=>t=null)}finally{f&&(T(null),D(null),C(null),P())}}var k=z(()=>{if(a!==(a=H())){if(F(a)){var e=a;d=!1,e.then(f=>{e===a&&(m(_,f),u(o,!0))},f=>{if(e===a&&(m(v,f),u(I,!0),!l))throw v.v}),h?n&&(r=c(()=>n(i))):G(()=>{d||u(x,!0)})}else m(_,a),u(o,!1);return()=>a=E}});h&&(i=L)}export{K as a};
