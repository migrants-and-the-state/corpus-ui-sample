import{$ as z,w as F,x as p,z as J,a0 as K,N as x,G as u,K as L,a1 as T,D as P,Y as k,X as D,a2 as A,a3 as C,a4 as G,F as w,J as y,a5 as U,h as X}from"./BB2ehQH7.js";import{H as Y}from"./wBZC1h8_.js";const N=0,c=1,E=2;function j(l,_,i,I,v){p&&J();var n=l,b=z(),q=X,a=T,r,t,s,d=(b?k:D)(void 0),h=(b?k:D)(void 0),m=!1;function o(e,f){m=!0,f&&(A(H),C(H),G(q));try{e===N&&i&&(r?w(r):r=u(()=>i(n))),e===c&&I&&(t?w(t):t=u(()=>I(n,d))),e===E&&v&&(s?w(s):s=u(()=>v(n,h))),e!==N&&r&&y(r,()=>r=null),e!==c&&t&&y(t,()=>t=null),e!==E&&s&&y(s,()=>s=null)}finally{f&&(G(null),C(null),A(null),U())}}var H=F(()=>{if(a!==(a=_())){if(K(a)){var e=a;m=!1,e.then(f=>{e===a&&(x(d,f),o(c,!0))},f=>{if(e===a&&(x(h,f),o(E,!0),!v))throw h.v}),p?i&&(r=u(()=>i(n))):L(()=>{m||o(N,!0)})}else x(d,a),o(c,!1);return()=>a=T}});p&&(n=P)}function B(l,_){throw new Y(l,_)}new TextEncoder;export{j as a,B as e};
